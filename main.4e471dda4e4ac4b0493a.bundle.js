(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{130:function(module,exports){},187:function(module,exports){function webpackEmptyAsyncContext(req){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e})}webpackEmptyAsyncContext.keys=function(){return[]},webpackEmptyAsyncContext.resolve=webpackEmptyAsyncContext,module.exports=webpackEmptyAsyncContext,webpackEmptyAsyncContext.id=187},189:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return AppComponent});var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),projects_ngx_diagrams_src_lib_models_diagram_model__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(67),AppComponent=function(){function AppComponent(){this.title="playground",this.diagramModel=new projects_ngx_diagrams_src_lib_models_diagram_model__WEBPACK_IMPORTED_MODULE_2__.a}return AppComponent.prototype.ngOnInit=function(){this.diagramModel.addNode("test",200,300).addPort("test","out")},AppComponent=tslib__WEBPACK_IMPORTED_MODULE_0__.b([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({selector:"app-root",template:__webpack_require__(376),styles:[__webpack_require__(377)]}),tslib__WEBPACK_IMPORTED_MODULE_0__.d("design:paramtypes",[])],AppComponent)}()},190:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return MarkdownWrapperComponent});var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),MarkdownWrapperComponent=function(){function MarkdownWrapperComponent(){}return tslib__WEBPACK_IMPORTED_MODULE_0__.b([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),tslib__WEBPACK_IMPORTED_MODULE_0__.d("design:type",String)],MarkdownWrapperComponent.prototype,"rawMarkdown",void 0),MarkdownWrapperComponent=tslib__WEBPACK_IMPORTED_MODULE_0__.b([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({selector:"app-markdown-wrapper",template:__webpack_require__(378),styles:[__webpack_require__(379)]}),tslib__WEBPACK_IMPORTED_MODULE_0__.d("design:paramtypes",[])],MarkdownWrapperComponent)}()},191:function(module,exports){module.exports="# ngx-diagrams (WIP)\n___\n\n[![Commitizen friendly](https://img.shields.io/badge/commitizen-friendly-brightgreen.svg)](http://commitizen.github.io/cz-cli/)\n[![semantic-release](https://img.shields.io/badge/%20%20%F0%9F%93%A6%F0%9F%9A%80-semantic--release-e10079.svg)](https://github.com/semantic-release/semantic-release)\n[![Build Status](https://travis-ci.com/DanielNetzer/ngx-diagrams.svg?branch=master)](https://travis-ci.com/DanielNetzer/ngx-diagrams)\n\n***Light weight, modular, typed diagram engine for angular.***\n\nCheck out our [stories](https://danielnetzer.github.io/ngx-diagrams)\n\n# Getting Started\n___\n\n### Installation\n\n```bash\nnpm i ngx-diagrams\n```\n\n### Setup\n- Import the library module.\n  \n`app.module.ts`\n\n```javascript\nimport { NgxDiagramsModule } from 'ngx-diagrams';\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule,\n    NgxDiagramsModule\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n```\n\n- instantiate new DiagramModel in the component you want to add the diagram canvas (e.g. app.component.ts), and start adding nodes, links, ports and work with the diagram.\n  \n    `app.component.ts`\n\n```javascript\n diagramModel = new DiagramModel();\n\n  constructor() { }\n\n  ngOnInit() {\n    const newNode = this.diagramModel.addNode('test', 200, 300);\n    newNode.addPort('test', 'out');\n  }\n```"},194:function(module,__webpack_exports__,__webpack_require__){"use strict";var tslib_es6=__webpack_require__(0),core=__webpack_require__(1),diagram_model=__webpack_require__(67),share=__webpack_require__(393),diagram_component_NgxDiagramComponent=function(){function NgxDiagramComponent(){this.allowCanvasZoon=!0,this.inverseZoom=!0}var _a;return NgxDiagramComponent.prototype.ngOnInit=function(){this.model&&(this.nodes$=this.model.selectNodes(),this.links$=this.model.selectLinks(),this.offsetX$=this.model.getOffsetX().pipe(Object(share.a)()),this.offsetY$=this.model.getOffsetY().pipe(Object(share.a)()),this.zoomLevel$=this.model.getZoomLevel().pipe(Object(share.a)()))},NgxDiagramComponent.prototype.onMouseDown=function(e){e.button},NgxDiagramComponent.prototype.onMouseWheel=function(event){if(this.allowCanvasZoon){event.preventDefault(),event.stopPropagation();var currentZoomLevel=this.model.getZoomLevel().value,oldZoomFactor=currentZoomLevel/100,scrollDelta=this.inverseZoom?-event.deltaY:event.deltaY;event.ctrlKey&&scrollDelta%1!=0?scrollDelta/=3:scrollDelta/=60,currentZoomLevel+scrollDelta>10&&this.model.setZoomLevel(currentZoomLevel+scrollDelta);var zoomFactor=this.model.getZoomLevel().value/100,boundingRect=event.currentTarget.getBoundingClientRect(),clientWidth=boundingRect.width,clientHeight=boundingRect.height,widthDiff=clientWidth*zoomFactor-clientWidth*oldZoomFactor,heightDiff=clientHeight*zoomFactor-clientHeight*oldZoomFactor,clientX=event.clientX-boundingRect.left,clientY=event.clientY-boundingRect.top,xFactor=(clientX-this.model.getOffsetX().value)/oldZoomFactor/clientWidth,yFactor=(clientY-this.model.getOffsetY().value)/oldZoomFactor/clientHeight;this.model.setOffset(this.model.getOffsetX().value-widthDiff*xFactor,this.model.getOffsetY().value-heightDiff*yFactor)}},tslib_es6.b([Object(core.Input)(),tslib_es6.d("design:type","function"==typeof(_a=void 0!==diagram_model.a&&diagram_model.a)?_a:Object)],NgxDiagramComponent.prototype,"model",void 0),tslib_es6.b([Object(core.Input)(),tslib_es6.d("design:type",Object)],NgxDiagramComponent.prototype,"allowCanvasZoon",void 0),tslib_es6.b([Object(core.Input)(),tslib_es6.d("design:type",Object)],NgxDiagramComponent.prototype,"inverseZoom",void 0),NgxDiagramComponent=tslib_es6.b([Object(core.Component)({selector:"ngdx-diagram",template:__webpack_require__(380),styles:[__webpack_require__(381)]}),tslib_es6.d("design:paramtypes",[])],NgxDiagramComponent)}(),common=__webpack_require__(9),node_model=__webpack_require__(65),node_component_DefaultNodeComponent=function(){function DefaultNodeComponent(){}var _a;return DefaultNodeComponent.prototype.ngOnInit=function(){},tslib_es6.b([Object(core.Input)(),tslib_es6.d("design:type","function"==typeof(_a=void 0!==node_model.a&&node_model.a)?_a:Object)],DefaultNodeComponent.prototype,"node",void 0),tslib_es6.b([Object(core.Input)(),tslib_es6.d("design:type",String)],DefaultNodeComponent.prototype,"key",void 0),DefaultNodeComponent=tslib_es6.b([Object(core.Component)({selector:"ngdx-default-node",template:__webpack_require__(382),styles:[__webpack_require__(383)]}),tslib_es6.d("design:paramtypes",[])],DefaultNodeComponent)}(),port_model=__webpack_require__(130),port_component_PortComponent=function(){function PortComponent(){}var _a;return PortComponent.prototype.ngOnInit=function(){},tslib_es6.b([Object(core.Input)(),tslib_es6.d("design:type","function"==typeof(_a=void 0!==port_model.DefaultPort&&port_model.DefaultPort)?_a:Object)],PortComponent.prototype,"port",void 0),tslib_es6.b([Object(core.Input)(),tslib_es6.d("design:type",String)],PortComponent.prototype,"key",void 0),PortComponent=tslib_es6.b([Object(core.Component)({selector:"ngdx-default-port",template:__webpack_require__(384),styles:[__webpack_require__(385)]}),tslib_es6.d("design:paramtypes",[])],PortComponent)}(),ngx_diagrams_module_NgxDiagramsModule=function(){function NgxDiagramsModule(){}return NgxDiagramsModule=tslib_es6.b([Object(core.NgModule)({declarations:[diagram_component_NgxDiagramComponent,node_component_DefaultNodeComponent,port_component_PortComponent],imports:[common.a],providers:[],exports:[diagram_component_NgxDiagramComponent]})],NgxDiagramsModule)}();__webpack_require__.d(__webpack_exports__,"a",function(){return ngx_diagrams_module_NgxDiagramsModule})},195:function(module,exports,__webpack_require__){__webpack_require__(196),__webpack_require__(282),__webpack_require__(283),module.exports=__webpack_require__(386)},283:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_angular__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(34);Object(_storybook_angular__WEBPACK_IMPORTED_MODULE_0__.addParameters)({options:{panelPosition:"right"}}),Object(_storybook_angular__WEBPACK_IMPORTED_MODULE_0__.configure)(function loadStories(){__webpack_require__(375)},module)}.call(this,__webpack_require__(155)(module))},375:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_angular__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(34),projects_playground_src_app_app_component__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(189),projects_playground_src_app_components_markdown_wrapper_markdown_wrapper_component__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(190),ngx_diagrams__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(194),_README_md__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(191),_README_md__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_README_md__WEBPACK_IMPORTED_MODULE_4__),ngx_markdown_esm5_src_markdown_module__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(192);Object(_storybook_angular__WEBPACK_IMPORTED_MODULE_0__.storiesOf)("Docs",module).addDecorator(Object(_storybook_angular__WEBPACK_IMPORTED_MODULE_0__.moduleMetadata)({imports:[ngx_markdown_esm5_src_markdown_module__WEBPACK_IMPORTED_MODULE_5__.a.forRoot()]})).add("welcome",function(){return{component:projects_playground_src_app_components_markdown_wrapper_markdown_wrapper_component__WEBPACK_IMPORTED_MODULE_2__.a,props:{rawMarkdown:_README_md__WEBPACK_IMPORTED_MODULE_4___default.a}}}),Object(_storybook_angular__WEBPACK_IMPORTED_MODULE_0__.storiesOf)("Examples",module).addDecorator(Object(_storybook_angular__WEBPACK_IMPORTED_MODULE_0__.moduleMetadata)({imports:[ngx_diagrams__WEBPACK_IMPORTED_MODULE_3__.a]})).add("base",function(){return{component:projects_playground_src_app_app_component__WEBPACK_IMPORTED_MODULE_1__.a}})}.call(this,__webpack_require__(155)(module))},376:function(module,exports){module.exports='<ngdx-diagram class="demo-diagram" [model]="diagramModel"></ngdx-diagram>\n'},377:function(module,exports){module.exports=".demo-diagram {\n  display: flex;\n  height: 100%;\n  min-height: 300px;\n  background-color: #3c3c3c !important;\n  background-image: linear-gradient(0deg, transparent 24%, rgba(255, 255, 255, 0.05) 25%, rgba(255, 255, 255, 0.05) 26%, transparent 27%, transparent 74%, rgba(255, 255, 255, 0.05) 75%, rgba(255, 255, 255, 0.05) 76%, transparent 77%, transparent), linear-gradient(90deg, transparent 24%, rgba(255, 255, 255, 0.05) 25%, rgba(255, 255, 255, 0.05) 26%, transparent 27%, transparent 74%, rgba(255, 255, 255, 0.05) 75%, rgba(255, 255, 255, 0.05) 76%, transparent 77%, transparent);\n  background-size: 50px 50px; }\n"},378:function(module,exports){module.exports='<markdown ngPreserveWhitespaces [innerHTML]="rawMarkdown" class="markdown">\n</markdown>\n'},379:function(module,exports){module.exports=".markdown {\n  padding: 0 50px;\n  display: block; }\n"},380:function(module,exports){module.exports="<div\n  class=\"ngdx-diagram\"\n  (mousedown)=\"onMouseDown($event)\"\n  (wheel)=\"onMouseWheel($event)\"\n>\n  \x3c!-- Nodes Layer --\x3e\n  <div\n    class=\"ngdx-nodes-layer\"\n    [ngStyle]=\"{\n      transform:\n        'translate(' +\n        (offsetX$ | async) +\n        'px, ' +\n        (offsetY$ | async) +\n        'px) scale(' +\n        (zoomLevel$ | async) / 100.0 +\n        ')'\n    }\"\n  >\n    \x3c!-- TODO: replace this default node component with a factory generated component injected in the diagram model --\x3e\n    <ngdx-default-node\n      *ngFor=\"let node of nodes$ | async | keyvalue\"\n      class=\"ngdx-node\"\n      [node]=\"node.value\"\n      [key]=\"node.key\"\n      [ngStyle]=\"{\n        'height.px': node.value.height,\n        'width.px': node.value.width,\n        'top.px': node.value.y,\n        'right.px': node.value.x\n      }\"\n    ></ngdx-default-node>\n  </div>\n  \x3c!-- Links Layer --\x3e\n  <div\n    class=\"ngdx-links-layer\"\n    [ngStyle]=\"{\n      transform:\n        'translate(' +\n        (offsetX$ | async) +\n        'px, ' +\n        (offsetY$ | async) +\n        'px) scale(' +\n        (zoomLevel$ | async) / 100.0 +\n        ')'\n    }\"\n  >\n    &nbsp;\n  </div>\n</div>\n"},381:function(module,exports){module.exports=".ngdx-diagram {\n  position: relative;\n  flex-grow: 1;\n  display: flex;\n  cursor: move;\n  overflow: hidden; }\n  .ngdx-diagram.selector {\n    position: absolute;\n    background-color: rgba(0, 192, 255, 0.2);\n    border: solid 2px #00c0ff; }\n  .ngdx-diagram .ngdx-nodes-layer {\n    position: absolute;\n    height: 100%;\n    width: 100%;\n    -webkit-transform-origin: 0 0;\n            transform-origin: 0 0;\n    overflow: visible !important;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0; }\n  .ngdx-diagram .ngdx-nodes-layer .ngdx-node {\n      position: absolute;\n      display: flex; }\n  .ngdx-diagram .ngdx-links-layer {\n    position: absolute;\n    height: 100%;\n    width: 100%;\n    -webkit-transform-origin: 0 0;\n            transform-origin: 0 0;\n    overflow: visible !important;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0; }\n"},382:function(module,exports){module.exports='<div class="default-node">\n  <div class="title">\n    {{ node.title }}\n  </div>\n  <div class="ports">\n    <ngdx-default-port\n      *ngFor="let port of node.ports$ | async | keyvalue"\n      [port]="port.value"\n      [key]="port.key"\n    >\n    </ngdx-default-port>\n  </div>\n</div>\n'},383:function(module,exports){module.exports=".default-node {\n  width: 100%;\n  background-color: white;\n  border-radius: 10px;\n  border: 1px solid blue;\n  cursor: auto; }\n  .default-node .title {\n    padding: 10px;\n    text-align: center;\n    border-bottom: 1px solid blue; }\n"},384:function(module,exports){module.exports='<div class="default-port" [ngClass]="port.type"></div>\n'},385:function(module,exports){module.exports=".default-port {\n  position: absolute;\n  width: 10px;\n  height: 10px;\n  border-radius: 60px;\n  border: 1px solid violet;\n  background-color: lightgray;\n  margin: 10px 0; }\n  .default-port:hover {\n    background-color: mediumseagreen; }\n  .default-port.out {\n    right: -5px; }\n  .default-port.in {\n    left: -5px; }\n"},386:function(module,exports,__webpack_require__){var content=__webpack_require__(387);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(388)(content,options);content.locals&&(module.exports=content.locals)},387:function(module,exports){module.exports=[[module.i,"/* You can add global styles to this file, and also import other style files */\nhtml,\nbody {\n  height: 100%;\n  width: 100%;\n  margin: 0; }\n","",""]]},65:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return NodeModel});var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_tool_kit_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(66),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(392),NodeModel=function(){function NodeModel(title,x,y,id,width,height,ports){void 0===id&&(id=_tool_kit_service__WEBPACK_IMPORTED_MODULE_1__.a()),void 0===width&&(width=200),void 0===height&&(height=300),void 0===ports&&(ports={}),this.id=id,this.title=title,this.x=x,this.y=y,this.width=width,this.height=height,this.ports$=new rxjs__WEBPACK_IMPORTED_MODULE_2__.a(ports)}return NodeModel.prototype.addPort=function(name,type,id){var _a;void 0===id&&(id=_tool_kit_service__WEBPACK_IMPORTED_MODULE_1__.a());var newPort={id:id,name:name,type:type};return this.ports$.next(tslib__WEBPACK_IMPORTED_MODULE_0__.a({},this.ports$.value,((_a={})[newPort.id]=newPort,_a))),newPort.id},NodeModel.prototype.getId=function(){return this.id},NodeModel}()},66:function(module,__webpack_exports__,__webpack_require__){"use strict";function UID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var r=16*Math.random()|0;return("x"===c?r:3&r|8).toString(16)})}__webpack_require__.d(__webpack_exports__,"a",function(){return UID})},67:function(module,__webpack_exports__,__webpack_require__){"use strict";var tslib_es6=__webpack_require__(0),BehaviorSubject=__webpack_require__(392),node_model=__webpack_require__(65),tool_kit_service=__webpack_require__(66),link_model_LinkModel=function(){function LinkModel(from,to,positionFrom,positionTo,id,points){void 0===positionFrom&&(positionFrom={}),void 0===positionTo&&(positionTo={}),void 0===id&&(id=tool_kit_service.a()),void 0===points&&(points=[]),this.id=id,this.from=from,this.to=to,this.positionFrom=positionFrom,this.positionTo=positionTo,this.points=points}return LinkModel.prototype.getId=function(){return this.id},LinkModel}();__webpack_require__.d(__webpack_exports__,"a",function(){return diagram_model_DiagramModel});var diagram_model_DiagramModel=function(){function DiagramModel(){this.model={nodes$:new BehaviorSubject.a({}),links$:new BehaviorSubject.a({}),zoom$:new BehaviorSubject.a(100),offsetX$:new BehaviorSubject.a(0),offsetY$:new BehaviorSubject.a(0),gridSize$:new BehaviorSubject.a(0)}}return DiagramModel.prototype.addNode=function(title,x,y){var _a,newNode=new node_model.a(title,x,y);return this.model.nodes$.next(tslib_es6.a({},this.model.nodes$.value,((_a={})[newNode.getId()]=newNode,_a))),newNode},DiagramModel.prototype.deleteNode=function(nodeOrId){var nodeId="string"==typeof nodeOrId?nodeOrId:nodeOrId.getId(),updNodes=tslib_es6.a({},this.model.nodes$.value);delete updNodes[nodeId],this.model.nodes$.next(updNodes)},DiagramModel.prototype.selectNodes=function(){return this.model.nodes$},DiagramModel.prototype.addLink=function(from,to){var _a,newLink=new link_model_LinkModel(from,to);return this.model.links$.next(tslib_es6.a({},this.model.links$.value,((_a={})[newLink.getId()]=newLink,_a))),newLink},DiagramModel.prototype.deleteLink=function(linkOrId){var linkId="string"==typeof linkOrId?linkOrId:linkOrId.getId(),updLinks=tslib_es6.a({},this.model.links$.value);delete updLinks[linkId],this.model.links$.next(updLinks)},DiagramModel.prototype.selectLinks=function(){return this.model.links$},DiagramModel.prototype.serialize=function(){return JSON.stringify(this.model)},DiagramModel.prototype.deserialize=function(serializedModel){this.model=JSON.parse(serializedModel)},DiagramModel.prototype.setOffset=function(x,y){this.model.offsetX$.next(x),this.model.offsetY$.next(y)},DiagramModel.prototype.setOffsetX=function(x){this.model.offsetX$.next(x)},DiagramModel.prototype.getOffsetX=function(){return this.model.offsetX$},DiagramModel.prototype.setOffsetY=function(y){this.model.offsetY$.next(y)},DiagramModel.prototype.getOffsetY=function(){return this.model.offsetY$},DiagramModel.prototype.setZoomLevel=function(z){this.model.zoom$.next(z)},DiagramModel.prototype.getZoomLevel=function(){return this.model.zoom$},DiagramModel}()}},[[195,1,2]]]);
//# sourceMappingURL=main.4e471dda4e4ac4b0493a.bundle.js.map