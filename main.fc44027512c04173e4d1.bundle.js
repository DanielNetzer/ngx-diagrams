(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{108:function(module,__webpack_exports__,__webpack_require__){"use strict";var tslib_es6=__webpack_require__(0),core=__webpack_require__(1),BehaviorSubject=__webpack_require__(33),node_model=__webpack_require__(148),link_model=__webpack_require__(150),diagram_model_DiagramModel=function(_super){function DiagramModel(diagramEngine,id){var _this=_super.call(this,id)||this;return _this.diagramEngine=diagramEngine,_this.nodes$=new BehaviorSubject.a({}),_this.links$=new BehaviorSubject.a({}),_this.zoom$=new BehaviorSubject.a(100),_this.offsetX$=new BehaviorSubject.a(0),_this.offsetY$=new BehaviorSubject.a(0),_this.gridSize$=new BehaviorSubject.a(0),_this}return tslib_es6.c(DiagramModel,_super),DiagramModel.prototype.getNode=function(id){return this.nodes$.getValue()[id]},DiagramModel.prototype.getLink=function(id){return this.links$.getValue()[id]},DiagramModel.prototype.addNode=function(node){var _a;return this.nodes$.next(tslib_es6.a({},this.nodes$.value,((_a={})[node.id]=node,_a))),node},DiagramModel.prototype.deleteNode=function(nodeOrId){var nodeId="string"==typeof nodeOrId?nodeOrId:nodeOrId.id,updNodes=tslib_es6.a({},this.nodes$.value);delete updNodes[nodeId],this.nodes$.next(updNodes)},DiagramModel.prototype.selectNodes=function(){return this.nodes$},DiagramModel.prototype.addLink=function(link){var _a;return this.links$.next(tslib_es6.a({},this.links$.value,((_a={})[link.id]=link,_a))),link},DiagramModel.prototype.deleteLink=function(linkOrId){var linkId="string"==typeof linkOrId?linkOrId:linkOrId.id,updLinks=tslib_es6.a({},this.links$.value);delete updLinks[linkId],this.links$.next(updLinks)},DiagramModel.prototype.selectLinks=function(){return this.links$},DiagramModel.prototype.setOffset=function(x,y){this.offsetX$.next(x),this.offsetY$.next(y)},DiagramModel.prototype.setOffsetX=function(x){this.offsetX$.next(x)},DiagramModel.prototype.getOffsetX=function(){return this.offsetX$},DiagramModel.prototype.setOffsetY=function(y){this.offsetY$.next(y)},DiagramModel.prototype.getOffsetY=function(){return this.offsetY$},DiagramModel.prototype.setZoomLevel=function(z){this.zoom$.next(z)},DiagramModel.prototype.getZoomLevel=function(){return this.zoom$},DiagramModel.prototype.getDiagramEngine=function(){return this.diagramEngine},DiagramModel.prototype.addAll=function(){for(var _this=this,models=[],_i=0;_i<arguments.length;_i++)models[_i]=arguments[_i];return models.forEach(function(model){model instanceof link_model.a?_this.addLink(model):model instanceof node_model.a&&_this.addNode(model)}),models},DiagramModel}(__webpack_require__(149).a),combineLatest=__webpack_require__(577),share=__webpack_require__(575),filter=__webpack_require__(281),BaseAction=function(){return function BaseAction(mouseX,mouseY){this.mouseX=mouseX,this.mouseY=mouseY,this.ms=(new Date).getTime()}}(),move_canvas_action_MoveCanvasAction=function(_super){function MoveCanvasAction(mouseX,mouseY,diagramModel){var _this=_super.call(this,mouseX,mouseY)||this;return _this.initialOffsetX=diagramModel.getOffsetX().getValue(),_this.initialOffsetY=diagramModel.getOffsetY().getValue(),_this}return tslib_es6.c(MoveCanvasAction,_super),MoveCanvasAction}(BaseAction),diagram_component_NgxDiagramComponent=(function(_super){function SelectingAction(mouseX,mouseY){var _this=_super.call(this,mouseX,mouseY)||this;return _this.mouseX2=mouseX,_this.mouseY2=mouseY,_this}tslib_es6.c(SelectingAction,_super),SelectingAction.prototype.getBoxDimensions=function(){return{left:this.mouseX2>this.mouseX?this.mouseX:this.mouseX2,top:this.mouseY2>this.mouseY?this.mouseY:this.mouseY2,width:Math.abs(this.mouseX2-this.mouseX),height:Math.abs(this.mouseY2-this.mouseY),right:this.mouseX2<this.mouseX?this.mouseX:this.mouseX2,bottom:this.mouseY2<this.mouseY?this.mouseY:this.mouseY2}},SelectingAction.prototype.containsElement=function(x,y,diagramModel){var z=diagramModel.getZoomLevel().getValue()/100,dimensions=this.getBoxDimensions();return x*z+diagramModel.getOffsetX().getValue()>dimensions.left&&x*z+diagramModel.getOffsetX().getValue()<dimensions.right&&y*z+diagramModel.getOffsetY().getValue()>dimensions.top&&y*z+diagramModel.getOffsetY().getValue()<dimensions.bottom}}(BaseAction),function(){function NgxDiagramComponent(renderer){var _this=this;this.renderer=renderer,this.allowCanvasZoon=!0,this.allowCanvasTranslation=!0,this.inverseZoom=!0,this.actionStartedFiring=new core.EventEmitter,this.actionStillFiring=new core.EventEmitter,this.actionStoppedFiring=new core.EventEmitter,this.action$=new BehaviorSubject.a(null),this.mouseUpListener=function(){},this.mouseMoveListener=function(){},this.onMouseUp=function(event){_this.mouseUpListener(),_this.mouseMoveListener(),_this.action$.next(null)},this.onMouseMove=function(event){var action=_this.action$.value;null!=action&&action instanceof move_canvas_action_MoveCanvasAction&&_this.allowCanvasTranslation&&(_this.diagramModel.setOffset(action.initialOffsetX+(event.clientX-action.mouseX),action.initialOffsetY+(event.clientY-action.mouseY)),_this.fireAction())}}var _a,_b,_c,_d,_e,_f,_g,_h;return NgxDiagramComponent.prototype.ngOnInit=function(){var _this=this;this.diagramModel&&(this.diagramModel.getDiagramEngine().setCanvas(this.canvas.nativeElement),this.nodes$=this.diagramModel.selectNodes(),this.links$=this.diagramModel.selectLinks(),this.offsetX$=this.diagramModel.getOffsetX().pipe(Object(share.a)()),this.offsetY$=this.diagramModel.getOffsetY().pipe(Object(share.a)()),this.zoomLevel$=this.diagramModel.getZoomLevel().pipe(Object(share.a)()),this.nodesRendered$=new BehaviorSubject.a(!1),this.nodes$.subscribe(function(nodes){_this.nodesRendered$.next(!1),Object.values(nodes).forEach(function(node){node.painted||(_this.diagramModel.getDiagramEngine().generateWidgetForNode(node,_this.nodesLayer),node.painted=!0)}),_this.nodesRendered$.next(!0)}))},NgxDiagramComponent.prototype.ngAfterViewInit=function(){var _this=this;Object(combineLatest.a)(this.nodesRendered$,this.links$).pipe(Object(filter.a)(function(_a){var nodesRendered=_a[0];_a[1];return!!nodesRendered})).subscribe(function(_a){_a[0];var links=_a[1];Object.values(links).forEach(function(link){if(!link.painted){if(null!==link.getSourcePort()){var portCenter=_this.diagramModel.getDiagramEngine().getPortCenter(link.getSourcePort());link.getPoints()[0].updateLocation(portCenter);var portCoords=_this.diagramModel.getDiagramEngine().getPortCoords(link.getSourcePort());link.getSourcePort().updateCoords(portCoords)}if(null!==link.getTargetPort()){portCenter=_this.diagramModel.getDiagramEngine().getPortCenter(link.getTargetPort());link.getPoints()[link.getPoints().length-1].updateLocation(portCenter);portCoords=_this.diagramModel.getDiagramEngine().getPortCoords(link.getTargetPort());link.getTargetPort().updateCoords(portCoords)}_this.diagramModel.getDiagramEngine().generateWidgetForLink(link,_this.linksLayer),link.painted=!0}})})},NgxDiagramComponent.prototype.fireAction=function(){this.action$.value&&this.actionStillFiring.emit(this.action$.value)},NgxDiagramComponent.prototype.stopFiringAction=function(shouldSkipEvent){shouldSkipEvent||this.actionStoppedFiring.emit(this.action$.value),this.action$.next(null)},NgxDiagramComponent.prototype.startFiringAction=function(action){this.action$.next(action),this.actionStartedFiring.emit(action)},NgxDiagramComponent.prototype.getMouseElement=function(event){var target=event.target,element=target.closest("[data-portid]");if(element){var nodeEl=target.closest("[data-nodeid]");return{model:this.diagramModel.getNode(nodeEl.getAttribute("data-nodeid")).getPort(element.getAttribute("data-portid")),element:element}}return(element=target.closest("[data-pointid]"))?{model:this.diagramModel.getLink(element.getAttribute("data-linkid")).getPointModel(element.getAttribute("data-pointid")),element:element}:(element=target.closest("[data-linkid]"))?{model:this.diagramModel.getLink(element.getAttribute("data-linkid")),element:element}:(element=target.closest("[data-nodeid]"))?{model:this.diagramModel.getNode(element.getAttribute("data-nodeid")),element:element}:null},NgxDiagramComponent.prototype.onMouseDown=function(event){3!==event.button&&(null===this.getMouseElement(event)&&(event.shiftKey||this.startFiringAction(new move_canvas_action_MoveCanvasAction(event.clientX,event.clientY,this.diagramModel))),this.mouseMoveListener=this.renderer.listen(document,"mousemove",this.onMouseMove),this.mouseUpListener=this.renderer.listen(document,"mouseup",this.onMouseUp))},NgxDiagramComponent.prototype.onMouseWheel=function(event){if(this.allowCanvasZoon){event.preventDefault(),event.stopPropagation();var currentZoomLevel=this.diagramModel.getZoomLevel().getValue(),oldZoomFactor=currentZoomLevel/100,scrollDelta=this.inverseZoom?-event.deltaY:event.deltaY;event.ctrlKey&&scrollDelta%1!=0?scrollDelta/=3:scrollDelta/=60,currentZoomLevel+scrollDelta>10&&this.diagramModel.setZoomLevel(currentZoomLevel+scrollDelta);var zoomFactor=this.diagramModel.getZoomLevel().getValue()/100,boundingRect=event.currentTarget.getBoundingClientRect(),clientWidth=boundingRect.width,clientHeight=boundingRect.height,widthDiff=clientWidth*zoomFactor-clientWidth*oldZoomFactor,heightDiff=clientHeight*zoomFactor-clientHeight*oldZoomFactor,clientX=event.clientX-boundingRect.left,clientY=event.clientY-boundingRect.top,xFactor=(clientX-this.diagramModel.getOffsetX().getValue())/oldZoomFactor/clientWidth,yFactor=(clientY-this.diagramModel.getOffsetY().getValue())/oldZoomFactor/clientHeight;this.diagramModel.setOffset(this.diagramModel.getOffsetX().getValue()-widthDiff*xFactor,this.diagramModel.getOffsetY().getValue()-heightDiff*yFactor)}},tslib_es6.b([Object(core.Input)("model"),tslib_es6.d("design:type","function"==typeof(_a=void 0!==diagram_model_DiagramModel&&diagram_model_DiagramModel)?_a:Object)],NgxDiagramComponent.prototype,"diagramModel",void 0),tslib_es6.b([Object(core.Input)(),tslib_es6.d("design:type",Object)],NgxDiagramComponent.prototype,"allowCanvasZoon",void 0),tslib_es6.b([Object(core.Input)(),tslib_es6.d("design:type",Object)],NgxDiagramComponent.prototype,"allowCanvasTranslation",void 0),tslib_es6.b([Object(core.Input)(),tslib_es6.d("design:type",Object)],NgxDiagramComponent.prototype,"inverseZoom",void 0),tslib_es6.b([Object(core.Output)(),tslib_es6.d("design:type","function"==typeof(_b=void 0!==core.EventEmitter&&core.EventEmitter)?_b:Object)],NgxDiagramComponent.prototype,"actionStartedFiring",void 0),tslib_es6.b([Object(core.Output)(),tslib_es6.d("design:type","function"==typeof(_c=void 0!==core.EventEmitter&&core.EventEmitter)?_c:Object)],NgxDiagramComponent.prototype,"actionStillFiring",void 0),tslib_es6.b([Object(core.Output)(),tslib_es6.d("design:type","function"==typeof(_d=void 0!==core.EventEmitter&&core.EventEmitter)?_d:Object)],NgxDiagramComponent.prototype,"actionStoppedFiring",void 0),tslib_es6.b([Object(core.ViewChild)("nodesLayer",{read:core.ViewContainerRef}),tslib_es6.d("design:type","function"==typeof(_e=void 0!==core.ViewContainerRef&&core.ViewContainerRef)?_e:Object)],NgxDiagramComponent.prototype,"nodesLayer",void 0),tslib_es6.b([Object(core.ViewChild)("linksLayer",{read:core.ViewContainerRef}),tslib_es6.d("design:type","function"==typeof(_f=void 0!==core.ViewContainerRef&&core.ViewContainerRef)?_f:Object)],NgxDiagramComponent.prototype,"linksLayer",void 0),tslib_es6.b([Object(core.ViewChild)("canvas",{read:core.ElementRef}),tslib_es6.d("design:type","function"==typeof(_g=void 0!==core.ElementRef&&core.ElementRef)?_g:Object)],NgxDiagramComponent.prototype,"canvas",void 0),NgxDiagramComponent=tslib_es6.b([Object(core.Component)({selector:"ngdx-diagram",template:__webpack_require__(554),styles:[__webpack_require__(555)],changeDetection:core.ChangeDetectionStrategy.OnPush}),tslib_es6.d("design:paramtypes",["function"==typeof(_h=void 0!==core.Renderer2&&core.Renderer2)?_h:Object])],NgxDiagramComponent)}()),default_node_model=__webpack_require__(32),distinctUntilChanged=__webpack_require__(578),takeUntil=__webpack_require__(573),default_node_component_DefaultNodeComponent=function(_super){function DefaultNodeComponent(){return _super.call(this,"ngdx-default-node")||this}var _a;return tslib_es6.c(DefaultNodeComponent,_super),DefaultNodeComponent.prototype.ngOnInit=function(){var _this=this;this.selectPorts().pipe(Object(distinctUntilChanged.a)(),Object(takeUntil.a)(this.onEntityDestroy())).subscribe(function(ports){Object.values(ports).forEach(function(port){port.painted||(_this.generatePort(port),port.painted=!0)})})},DefaultNodeComponent.prototype.generatePort=function(port){this.diagramEngine.generateWidgetForPort(port,this.portsLayer)},tslib_es6.b([Object(core.ViewChild)("portsLayer",{read:core.ViewContainerRef}),tslib_es6.d("design:type","function"==typeof(_a=void 0!==core.ViewContainerRef&&core.ViewContainerRef)?_a:Object)],DefaultNodeComponent.prototype,"portsLayer",void 0),DefaultNodeComponent=tslib_es6.b([Object(core.Component)({selector:"ngdx-default-node",template:__webpack_require__(556),styles:[__webpack_require__(557)]}),tslib_es6.d("design:paramtypes",[])],DefaultNodeComponent)}(default_node_model.a),AbstractFactory=function(){function AbstractFactory(name){this._type=name}return Object.defineProperty(AbstractFactory.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),AbstractFactory}(),default_node_factory_DefaultNodeFactory=function(_super){function DefaultNodeFactory(resolver){var _this=_super.call(this,"default")||this;return _this.resolver=resolver,_this}return tslib_es6.c(DefaultNodeFactory,_super),DefaultNodeFactory.prototype.generateWidget=function(diagramEngine,node,nodesHost){var componentRef=nodesHost.createComponent(this.getRecipe()),rootNode=componentRef.hostView.rootNodes[0];rootNode.style.position="absolute",rootNode.style.display="block",rootNode.setAttribute("data-nodeid",node.id);var xSub=node.selectX().subscribe(function(x){return rootNode.style.left=x+"px"}),ySub=node.selectY().subscribe(function(y){return rootNode.style.top=y+"px"}),isSelectedSub=node.selectionChanges().subscribe(function(e){e.isSelected?rootNode.classList.add("selected"):rootNode.classList.remove("selected")});return node.onEntityDestroy().subscribe(function(e){componentRef.destroy(),xSub.unsubscribe(),ySub.unsubscribe(),isSelectedSub.unsubscribe()}),Object.entries(node).forEach(function(_a){var key=_a[0],value=_a[1];componentRef.instance[key]=value}),componentRef.instance.diagramEngine=diagramEngine,componentRef},DefaultNodeFactory.prototype.getRecipe=function(){return this.resolver.resolveComponentFactory(default_node_component_DefaultNodeComponent)},DefaultNodeFactory.prototype.getNewInstance=function(initialConfig){return new(default_node_model.a.bind.apply(default_node_model.a,[void 0,"default"].concat(initialConfig)))},DefaultNodeFactory}(function(_super){function AbstractNodeFactory(){return null!==_super&&_super.apply(this,arguments)||this}return tslib_es6.c(AbstractNodeFactory,_super),AbstractNodeFactory}(AbstractFactory)),port_factory_AbstractPortFactory=function(_super){function AbstractPortFactory(){return null!==_super&&_super.apply(this,arguments)||this}return tslib_es6.c(AbstractPortFactory,_super),AbstractPortFactory}(AbstractFactory),default_port_model=__webpack_require__(58),default_port_component_DefaultPortComponent=function(_super){function DefaultPortComponent(){return _super.call(this)||this}return tslib_es6.c(DefaultPortComponent,_super),DefaultPortComponent=tslib_es6.b([Object(core.Component)({selector:"ngdx-default-port",template:__webpack_require__(558),styles:[__webpack_require__(559)]}),tslib_es6.d("design:paramtypes",[])],DefaultPortComponent)}(default_port_model.a),default_port_factory_DefaultPortFactory=function(_super){function DefaultPortFactory(resolver){var _this=_super.call(this,"default")||this;return _this.resolver=resolver,_this}return tslib_es6.c(DefaultPortFactory,_super),DefaultPortFactory.prototype.generateWidget=function(port,portsHost){var componentRef=portsHost.createComponent(this.getRecipe()),rootNode=componentRef.hostView.rootNodes[0];return rootNode.setAttribute("data-portid",port.id),rootNode.setAttribute("data-name",port.getName()),port.in?rootNode.classList.add("in"):rootNode.classList.add("out"),Object.entries(port).forEach(function(_a){var key=_a[0],value=_a[1];componentRef.instance[key]=value}),port.onEntityDestroy().subscribe(function(e){componentRef.destroy()}),componentRef},DefaultPortFactory.prototype.getRecipe=function(){return this.resolver.resolveComponentFactory(default_port_component_DefaultPortComponent)},DefaultPortFactory.prototype.getNewInstance=function(initialConfig){return new(default_port_model.a.bind.apply(default_port_model.a,[void 0,!0,"unknown"].concat(initialConfig)))},DefaultPortFactory}(port_factory_AbstractPortFactory),take=__webpack_require__(286),delay=__webpack_require__(579),link_factory_AbstractLinkFactory=function(_super){function AbstractLinkFactory(){return null!==_super&&_super.apply(this,arguments)||this}return tslib_es6.c(AbstractLinkFactory,_super),AbstractLinkFactory}(AbstractFactory),default_link_model=__webpack_require__(31),tool_kit_util=__webpack_require__(94),default_link_component_DefaultLinkComponent=function(_super){function DefaultLinkComponent(cdRef){var _this=_super.call(this,"ngdx-default-link")||this;return _this.cdRef=cdRef,_this.path$=new BehaviorSubject.a(null),_this}var _a;return tslib_es6.c(DefaultLinkComponent,_super),DefaultLinkComponent.prototype.ngAfterViewInit=function(){var _this=this,lastPX$=this.getLastPoint().selectX(),lastPY$=this.getLastPoint().selectY(),firstPX$=this.getFirstPoint().selectX(),firstPY$=this.getFirstPoint().selectY();Object(combineLatest.a)(lastPX$,lastPY$,firstPX$,firstPY$).subscribe(function(_a){var lastPX=_a[0],lastPY=_a[1],firstPX=_a[2],firstPY=_a[3],points=[{x:firstPX,y:firstPY},{x:lastPX,y:lastPY}],xOrY=Math.abs(firstPX-lastPX)>Math.abs(firstPY-lastPY)?"x":"y";console.log(Math.abs(points[0][xOrY]-points[1][xOrY])<150);var isStraight=!1;Math.abs(points[0][xOrY]-points[1][xOrY])<150&&(isStraight=!0);var path=Object(tool_kit_util.b)({x:firstPX,y:firstPY},{x:lastPX,y:lastPY},isStraight?0:_this.curvyness);_this.path$.next(path),_this.cdRef.detectChanges()})},DefaultLinkComponent=tslib_es6.b([Object(core.Component)({selector:"ngdx-default-link",template:__webpack_require__(560),styles:[__webpack_require__(561)]}),tslib_es6.d("design:paramtypes",["function"==typeof(_a=void 0!==core.ChangeDetectorRef&&core.ChangeDetectorRef)?_a:Object])],DefaultLinkComponent)}(default_link_model.a),default_link_factory_DefaultLinkFactory=function(_super){function DefaultLinkFactory(resolver){var _this=_super.call(this,"default")||this;return _this.resolver=resolver,_this}return tslib_es6.c(DefaultLinkFactory,_super),DefaultLinkFactory.prototype.generateWidget=function(link,linksHost){var componentRef=linksHost.createComponent(this.getRecipe()),rootNode=componentRef.hostView.rootNodes[0];return rootNode.style.position="absolute",rootNode.setAttribute("data-linkid",link.id),link.onEntityDestroy().subscribe(function(){componentRef.destroy()}),Object.entries(link).forEach(function(_a){var key=_a[0],value=_a[1];componentRef.instance[key]=value}),componentRef},DefaultLinkFactory.prototype.getRecipe=function(){return this.resolver.resolveComponentFactory(default_link_component_DefaultLinkComponent)},DefaultLinkFactory.prototype.getNewInstance=function(){return new default_link_model.a},DefaultLinkFactory}(link_factory_AbstractLinkFactory),engine_service_DiagramEngine=function(){function DiagramEngine(resolver){this.resolver=resolver,this.nodeFactories={},this.linkFactories={},this.portFactories={},this.canvas$=new BehaviorSubject.a(null)}var _a;return DiagramEngine.prototype.createDiagram=function(){return this.diagramModel=new diagram_model_DiagramModel(this),this.diagramModel},DiagramEngine.prototype.registerDefaultFactories=function(){this.registerNodeFactory(new default_node_factory_DefaultNodeFactory(this.resolver)),this.registerPortFactory(new default_port_factory_DefaultPortFactory(this.resolver)),this.registerLinkFactory(new default_link_factory_DefaultLinkFactory(this.resolver))},DiagramEngine.prototype.registerNodeFactory=function(nodeFactory){this.nodeFactories[nodeFactory.type]=nodeFactory},DiagramEngine.prototype.getNodeFactories=function(){return this.nodeFactories},DiagramEngine.prototype.getNodeFactory=function(type){if(this.nodeFactories[type])return this.nodeFactories[type];throw new Error("cannot find factory for node of type: ["+type+"]")},DiagramEngine.prototype.getFactoryForNode=function(node){return this.getNodeFactory(node.type)},DiagramEngine.prototype.generateWidgetForNode=function(node,nodesHost){var nodeFactory=this.getFactoryForNode(node);if(!nodeFactory)throw new Error("Cannot find widget factory for node: "+node.type);return nodeFactory.generateWidget(this,node,nodesHost)},DiagramEngine.prototype.registerPortFactory=function(factory){this.portFactories[factory.type]=factory},DiagramEngine.prototype.getPortFactories=function(){return this.portFactories},DiagramEngine.prototype.getPortFactory=function(type){if(this.portFactories[type])return this.portFactories[type];throw new Error("cannot find factory for port of type: ["+type+"]")},DiagramEngine.prototype.getFactoryForPort=function(port){return this.getPortFactory(port.type)},DiagramEngine.prototype.generateWidgetForPort=function(port,portsHost){var portFactory=this.getFactoryForPort(port);if(!portFactory)throw new Error("Cannot find widget factory for port: "+port.type);return portFactory.generateWidget(port,portsHost)},DiagramEngine.prototype.getLinkFactories=function(){return this.linkFactories},DiagramEngine.prototype.registerLinkFactory=function(factory){this.linkFactories[factory.type]=factory},DiagramEngine.prototype.getLinkFactory=function(type){if(this.linkFactories[type])return this.linkFactories[type];throw new Error("cannot find factory for link of type: ["+type+"]")},DiagramEngine.prototype.getFactoryForLink=function(link){return this.getLinkFactory(link.type)},DiagramEngine.prototype.generateWidgetForLink=function(link,linksHost){var linkFactory=this.getFactoryForLink(link);if(!linkFactory)throw new Error("Cannot find link factory for link: "+link.type);return linkFactory.generateWidget(link,linksHost)},DiagramEngine.prototype.getNodeElement=function(node){var selector=this.canvas$.getValue().querySelector('[data-nodeid="'+node.id+'"]');if(null===selector)throw new Error("Cannot find Node element with node id: ["+node.id+"]");return selector},DiagramEngine.prototype.getNodePortElement=function(port){var selector=this.canvas$.getValue().querySelector('[data-nodeid="'+port.getParent().id+'"] [data-portid="'+port.id+'"]');if(null===selector)throw new Error("Cannot find Node Port element with node id: ["+port.getParent().id+"] and port id: ["+port.id+"]");return selector},DiagramEngine.prototype.getPortCenter=function(port){var sourceElement=this.getNodePortElement(port),sourceRect=sourceElement.getBoundingClientRect(),rel=this.getRelativePoint(sourceRect.left,sourceRect.top);return{x:sourceElement.offsetWidth/2+(rel.x-this.diagramModel.getOffsetX().getValue())/(this.diagramModel.getZoomLevel().getValue()/100),y:sourceElement.offsetHeight/2+(rel.y-this.diagramModel.getOffsetY().getValue())/(this.diagramModel.getZoomLevel().getValue()/100)}},DiagramEngine.prototype.getPortCoords=function(port){var sourceRect=this.getNodePortElement(port).getBoundingClientRect(),canvasRect=this.canvas$.getValue().getBoundingClientRect();return{x:(sourceRect.x-this.diagramModel.getOffsetX().getValue())/(this.diagramModel.getZoomLevel().getValue()/100)-canvasRect.left,y:(sourceRect.y-this.diagramModel.getOffsetY().getValue())/(this.diagramModel.getZoomLevel().getValue()/100)-canvasRect.top,width:sourceRect.width,height:sourceRect.height}},DiagramEngine.prototype.getNodeDimensions=function(node){if(!this.canvas$.getValue())return{width:0,height:0};var nodeRect=this.getNodeElement(node).getBoundingClientRect();return{width:nodeRect.width,height:nodeRect.height}},DiagramEngine.prototype.setCanvas=function(canvas){this.canvas$.next(canvas)},DiagramEngine.prototype.getRelativeMousePoint=function(event){var point=this.getRelativePoint(event.clientX,event.clientY);return{x:(point.x-this.diagramModel.getOffsetX().value)/(this.diagramModel.getZoomLevel().value/100),y:(point.y-this.diagramModel.getOffsetY().value)/(this.diagramModel.getZoomLevel().value/100)}},DiagramEngine.prototype.getRelativePoint=function(x,y){var canvasRect=this.canvas$.getValue().getBoundingClientRect();return{x:x-canvasRect.left,y:y-canvasRect.top}},DiagramEngine.prototype.zoomToFit=function(additionalZoomFactor){var _this=this;void 0===additionalZoomFactor&&(additionalZoomFactor=.005),this.canvas$.pipe(Object(filter.a)(Boolean),Object(take.a)(1),Object(delay.a)(0)).subscribe(function(canvas){var xFactor=canvas.clientWidth/canvas.scrollWidth,yFactor=canvas.clientHeight/canvas.scrollHeight,zoomFactor=xFactor<yFactor?xFactor:yFactor;_this.diagramModel.setZoomLevel(_this.diagramModel.getZoomLevel().value*(zoomFactor-additionalZoomFactor)),_this.diagramModel.setOffset(0,0)})},DiagramEngine=tslib_es6.b([Object(core.Injectable)({providedIn:"root"}),tslib_es6.d("design:paramtypes",["function"==typeof(_a=void 0!==core.ComponentFactoryResolver&&core.ComponentFactoryResolver)?_a:Object])],DiagramEngine)}(),common=__webpack_require__(10),ngx_diagrams_module_NgxDiagramsModule=function(){function NgxDiagramsModule(){}return NgxDiagramsModule=tslib_es6.b([Object(core.NgModule)({declarations:[diagram_component_NgxDiagramComponent,default_node_component_DefaultNodeComponent,default_port_component_DefaultPortComponent,default_link_component_DefaultLinkComponent],imports:[common.a],providers:[],exports:[diagram_component_NgxDiagramComponent],entryComponents:[default_node_component_DefaultNodeComponent,default_port_component_DefaultPortComponent,default_link_component_DefaultLinkComponent]})],NgxDiagramsModule)}();__webpack_require__.d(__webpack_exports__,"a",function(){return engine_service_DiagramEngine}),__webpack_require__.d(__webpack_exports__,"b",function(){return ngx_diagrams_module_NgxDiagramsModule})},148:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return NodeModel});var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),rxjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(33),NodeModel=function(_super){function NodeModel(nodeType,extras,x,y,width,height,id){void 0===nodeType&&(nodeType="default"),void 0===extras&&(extras={}),void 0===x&&(x=0),void 0===y&&(y=0),void 0===width&&(width=0),void 0===height&&(height=0);var _this=_super.call(this,nodeType,id)||this;return _this.x$=new rxjs__WEBPACK_IMPORTED_MODULE_1__.a(x),_this.y$=new rxjs__WEBPACK_IMPORTED_MODULE_1__.a(y),_this.extras$=new rxjs__WEBPACK_IMPORTED_MODULE_1__.a(extras),_this.ports$=new rxjs__WEBPACK_IMPORTED_MODULE_1__.a({}),_this.width$=new rxjs__WEBPACK_IMPORTED_MODULE_1__.a(width),_this.height$=new rxjs__WEBPACK_IMPORTED_MODULE_1__.a(height),_this}return tslib__WEBPACK_IMPORTED_MODULE_0__.c(NodeModel,_super),NodeModel.prototype.setPosition=function(x,y){this.x$.next(x),this.y$.next(y)},NodeModel.prototype.setX=function(x){this.x$.next(x)},NodeModel.prototype.setY=function(y){this.y$.next(y)},NodeModel.prototype.selectX=function(){return this.x$.asObservable()},NodeModel.prototype.selectY=function(){return this.y$.asObservable()},NodeModel.prototype.addPort=function(port){var _a;return port.setParent(this),this.ports$.next(tslib__WEBPACK_IMPORTED_MODULE_0__.a({},this.ports$.value,((_a={})[port.id]=port,_a))),port},NodeModel.prototype.getPort=function(id){return this.ports$.value[id]},NodeModel.prototype.selectPorts=function(){return this.ports$.asObservable()},NodeModel.prototype.getPorts=function(){return this.ports$.value},NodeModel.prototype.getPortByID=function(id){var ports=this.ports$.value;return Object.values(ports).find(function(port){return port.id===id})},NodeModel.prototype.updateDimensions=function(_a){var width=_a.width,height=_a.height;this.width$.next(width),this.height$.next(height)},NodeModel.prototype.selectExtras=function(){return this.extras$},NodeModel.prototype.getExtras=function(){return this.extras$.value},NodeModel.prototype.setExtras=function(extras){this.extras$.next(extras)},NodeModel}(__webpack_require__(56).a)},149:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return BaseEntity});var _utils_tool_kit_util__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(94),rxjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(57),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(33),rxjs_operators__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(573),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(61),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(574),_interfaces_event_interface__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(78),BaseEntity=function(){function BaseEntity(id){this._destroyed=new rxjs__WEBPACK_IMPORTED_MODULE_1__.a,this._destroyed$=this._destroyed.asObservable(),this._locked=new rxjs__WEBPACK_IMPORTED_MODULE_2__.a(!1),this._locked$=this._locked.asObservable(),this._id=id||Object(_utils_tool_kit_util__WEBPACK_IMPORTED_MODULE_0__.a)()}return Object.defineProperty(BaseEntity.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),BaseEntity.prototype.getLocked=function(){return this._locked.value},BaseEntity.prototype.setLocked=function(locked){void 0===locked&&(locked=!0),this._locked.next(locked)},BaseEntity.prototype.lockChanges=function(){var _this=this;return this._locked$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.a)(this._destroyed$),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.a)(function(locked){return Object(_interfaces_event_interface__WEBPACK_IMPORTED_MODULE_6__.b)(_this,locked)}))},BaseEntity.prototype.destroy=function(){this._destroyed.next(),this._destroyed.complete()},BaseEntity.prototype.onEntityDestroy=function(){return this._destroyed$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_interfaces_event_interface__WEBPACK_IMPORTED_MODULE_6__.a)(this)))},BaseEntity}()},150:function(module,__webpack_exports__,__webpack_require__){"use strict";var tslib_es6=__webpack_require__(0),base_model=__webpack_require__(56),BehaviorSubject=__webpack_require__(33),point_model_PointModel=function(_super){function PointModel(link,points){var _this=_super.call(this)||this;return _this.x$=new BehaviorSubject.a(points.x),_this.y$=new BehaviorSubject.a(points.y),_this.setParent(link),_this}return tslib_es6.c(PointModel,_super),PointModel.prototype.isConnectedToPort=function(){return null!==this.getParent().getPortForPoint(this)},PointModel.prototype.getLink=function(){return this.getParent()},PointModel.prototype.remove=function(){this.getParent&&this.getParent().removePoint(this),_super.prototype.remove.call(this)},PointModel.prototype.selectX=function(){return this.x$.asObservable()},PointModel.prototype.getX=function(){return this.x$.getValue()},PointModel.prototype.selectY=function(){return this.y$.asObservable()},PointModel.prototype.getY=function(){return this.y$.getValue()},PointModel.prototype.setX=function(x){this.x$.next(x)},PointModel.prototype.setY=function(y){this.y$.next(y)},PointModel.prototype.updateLocation=function(points){this.setX(points.x),this.setY(points.y)},PointModel}(base_model.a);__webpack_require__.d(__webpack_exports__,"a",function(){return link_model_LinkModel});var link_model_LinkModel=function(_super){function LinkModel(linkType,id){void 0===linkType&&(linkType="default");var _this=_super.call(this,linkType,id)||this;return _this.points=[new point_model_PointModel(_this,{x:0,y:0}),new point_model_PointModel(_this,{x:0,y:0})],_this.extras={},_this.sourcePort=null,_this.targetPort=null,_this}return tslib_es6.c(LinkModel,_super),LinkModel.prototype.setName=function(name){this.name=name},LinkModel.prototype.getName=function(){return this.name},LinkModel.prototype.getExtras=function(){return this.extras},LinkModel.prototype.setExtras=function(extras){this.extras=extras},LinkModel.prototype.remove=function(){this.sourcePort&&this.sourcePort.removeLink(this),this.targetPort&&this.targetPort.removeLink(this),_super.prototype.remove.call(this)},LinkModel.prototype.isLastPoint=function(point){return this.getPointIndex(point)===this.points.length-1},LinkModel.prototype.getPointIndex=function(point){return this.points.indexOf(point)},LinkModel.prototype.getPointModel=function(id){for(var _i=0,_a=this.points;_i<_a.length;_i++){var point=_a[_i];if(point.id===id)return point}return null},LinkModel.prototype.getPortForPoint=function(point){return null!==this.sourcePort&&this.getFirstPoint().id===point.id?this.sourcePort:null!==this.targetPort&&this.getLastPoint().id===point.id?this.targetPort:null},LinkModel.prototype.getPointForPort=function(port){return null!==this.sourcePort&&this.sourcePort.id===port.id?this.getFirstPoint():null!==this.targetPort&&this.targetPort.id===port.id?this.getLastPoint():null},LinkModel.prototype.getFirstPoint=function(){return this.points[0]},LinkModel.prototype.getLastPoint=function(){return this.points[this.points.length-1]},LinkModel.prototype.setSourcePort=function(port){null!==port&&port.addLink(this),null!==this.sourcePort&&this.sourcePort.removeLink(this),this.sourcePort=port},LinkModel.prototype.getSourcePort=function(){return this.sourcePort},LinkModel.prototype.getTargetPort=function(){return this.targetPort},LinkModel.prototype.setTargetPort=function(port){null!==port&&port.addLink(this),null!==this.targetPort&&this.targetPort.removeLink(this),this.targetPort=port},LinkModel.prototype.point=function(x,y){return this.addPoint(this.generatePoint(x,y))},LinkModel.prototype.getPoints=function(){return this.points},LinkModel.prototype.setPoints=function(points){var _this=this;points.forEach(function(point){point.setParent(_this)}),this.points=points},LinkModel.prototype.removePoint=function(pointModel){this.points.splice(this.getPointIndex(pointModel),1)},LinkModel.prototype.removePointsBefore=function(pointModel){this.points.splice(0,this.getPointIndex(pointModel))},LinkModel.prototype.removePointsAfter=function(pointModel){this.points.splice(this.getPointIndex(pointModel)+1)},LinkModel.prototype.removeMiddlePoints=function(){this.points.length>2&&this.points.splice(0,this.points.length-2)},LinkModel.prototype.addPoint=function(pointModel,index){return void 0===index&&(index=1),pointModel.setParent(this),this.points.splice(index,0,pointModel),pointModel},LinkModel.prototype.generatePoint=function(x,y){return void 0===x&&(x=0),void 0===y&&(y=0),new point_model_PointModel(this,{x:x,y:y})},LinkModel}(base_model.a)},252:function(module,exports){function webpackEmptyAsyncContext(req){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e})}webpackEmptyAsyncContext.keys=function(){return[]},webpackEmptyAsyncContext.resolve=webpackEmptyAsyncContext,module.exports=webpackEmptyAsyncContext,webpackEmptyAsyncContext.id=252},280:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return AppComponent});var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),ngx_diagrams__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(108),projects_ngx_diagrams_src_lib_defaults_models_default_node_model__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(32),projects_ngx_diagrams_src_lib_defaults_models_default_link_model__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(31),AppComponent=function(){function AppComponent(diagramEngine){this.diagramEngine=diagramEngine,this.title="playground"}var _a;return AppComponent.prototype.ngOnInit=function(){var nodesDefaultDimensions={height:200,width:200};this.diagramEngine.registerDefaultFactories(),this.diagramModel=this.diagramEngine.createDiagram();var node1=new projects_ngx_diagrams_src_lib_defaults_models_default_node_model__WEBPACK_IMPORTED_MODULE_3__.a;node1.setPosition(500,300),node1.updateDimensions(nodesDefaultDimensions);var p1=node1.addInPort("inport"),node2=new projects_ngx_diagrams_src_lib_defaults_models_default_node_model__WEBPACK_IMPORTED_MODULE_3__.a;node2.setPosition(200,200),node2.updateDimensions(nodesDefaultDimensions);var outPortN2=node2.addOutPort("outport"),link1=new projects_ngx_diagrams_src_lib_defaults_models_default_link_model__WEBPACK_IMPORTED_MODULE_4__.a;link1.setSourcePort(outPortN2),link1.setTargetPort(p1);var node3=new projects_ngx_diagrams_src_lib_defaults_models_default_node_model__WEBPACK_IMPORTED_MODULE_3__.a;node3.setPosition(400,600),node3.updateDimensions(nodesDefaultDimensions);var p3=node3.addInPort("inport"),link3=new projects_ngx_diagrams_src_lib_defaults_models_default_link_model__WEBPACK_IMPORTED_MODULE_4__.a;link3.setSourcePort(outPortN2),link3.setTargetPort(p3);var node4=new projects_ngx_diagrams_src_lib_defaults_models_default_node_model__WEBPACK_IMPORTED_MODULE_3__.a;node4.setPosition(1200,200),node4.updateDimensions(nodesDefaultDimensions);var p4=node4.addInPort("inport"),link2=new projects_ngx_diagrams_src_lib_defaults_models_default_link_model__WEBPACK_IMPORTED_MODULE_4__.a;link2.setSourcePort(outPortN2),link2.setTargetPort(p4),this.diagramModel.addAll(link1,node1,node2,node3,node4,link2,link3),this.diagramModel.getDiagramEngine().zoomToFit()},AppComponent=tslib__WEBPACK_IMPORTED_MODULE_0__.b([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({selector:"app-root",template:__webpack_require__(562),styles:[__webpack_require__(563)]}),tslib__WEBPACK_IMPORTED_MODULE_0__.d("design:paramtypes",["function"==typeof(_a=void 0!==ngx_diagrams__WEBPACK_IMPORTED_MODULE_2__.a&&ngx_diagrams__WEBPACK_IMPORTED_MODULE_2__.a)?_a:Object])],AppComponent)}()},282:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return MarkdownWrapperComponent});var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),MarkdownWrapperComponent=function(){function MarkdownWrapperComponent(){}return tslib__WEBPACK_IMPORTED_MODULE_0__.b([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),tslib__WEBPACK_IMPORTED_MODULE_0__.d("design:type",String)],MarkdownWrapperComponent.prototype,"rawMarkdown",void 0),MarkdownWrapperComponent=tslib__WEBPACK_IMPORTED_MODULE_0__.b([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({selector:"app-markdown-wrapper",template:__webpack_require__(564),styles:[__webpack_require__(565)]}),tslib__WEBPACK_IMPORTED_MODULE_0__.d("design:paramtypes",[])],MarkdownWrapperComponent)}()},283:function(module,exports){module.exports="# ngx-diagrams (WIP)\n___\n\n[![Commitizen friendly](https://img.shields.io/badge/commitizen-friendly-brightgreen.svg)](http://commitizen.github.io/cz-cli/)\n[![semantic-release](https://img.shields.io/badge/%20%20%F0%9F%93%A6%F0%9F%9A%80-semantic--release-e10079.svg)](https://github.com/semantic-release/semantic-release)\n[![Build Status](https://travis-ci.com/DanielNetzer/ngx-diagrams.svg?branch=master)](https://travis-ci.com/DanielNetzer/ngx-diagrams)\n[![Gitter](https://badges.gitter.im/ngx-diagrams/community.svg)](https://gitter.im/ngx-diagrams/community?utm_source=badge&utm_medium=badge&utm_campaign=pr-badge)\n\n***Light weight, modular, typed diagram engine for angular inspired by react-storm-diagrams.***\n\nCheck out our [stories](https://danielnetzer.github.io/ngx-diagrams)\n\n# Getting Started\n___\n\n### Installation\n\n```bash\nnpm i ngx-diagrams\n```\n\n### Setup\n- Import the library module.\n  \n`app.module.ts`\n\n```javascript\nimport { NgxDiagramsModule } from 'ngx-diagrams';\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule,\n    NgxDiagramsModule\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n```\n\n- instantiate new DiagramModel in the component you want to add the diagram canvas (e.g. app.component.ts), and start adding nodes, links, ports and work with the diagram.\n  \n    `app.component.ts`\n\n```javascript\n diagramModel = new DiagramModel();\n\n  constructor() { }\n\n  ngOnInit() {\n    const newNode = this.diagramModel.addNode('test', 200, 300);\n    newNode.addPort('test', 'out');\n  }\n```"},288:function(module,exports,__webpack_require__){__webpack_require__(289),__webpack_require__(375),__webpack_require__(376),module.exports=__webpack_require__(566)},31:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return DefaultLinkModel});var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),DefaultLinkModel=function(_super){function DefaultLinkModel(type){void 0===type&&(type="default");var _this=_super.call(this,type)||this;return _this.color="rgba(255,255,255,0.5)",_this.width=3,_this.curvyness=50,_this}return tslib__WEBPACK_IMPORTED_MODULE_0__.c(DefaultLinkModel,_super),DefaultLinkModel.prototype.setWidth=function(width){this.width=width},DefaultLinkModel.prototype.setColor=function(color){this.color=color},DefaultLinkModel}(__webpack_require__(150).a)},32:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return DefaultNodeModel});var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_models_node_model__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(148),_default_port_model__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(58),DefaultNodeModel=function(_super){function DefaultNodeModel(name,color){void 0===name&&(name="Untitled"),void 0===color&&(color="rgb(0, 192, 255)");var _this=_super.call(this,"default")||this;return _this.name=name,_this.color=color,_this}return tslib__WEBPACK_IMPORTED_MODULE_0__.c(DefaultNodeModel,_super),DefaultNodeModel.prototype.addInPort=function(name){var port=new _default_port_model__WEBPACK_IMPORTED_MODULE_2__.a(!0,name);return this.addPort(port),port},DefaultNodeModel.prototype.addOutPort=function(name){var port=new _default_port_model__WEBPACK_IMPORTED_MODULE_2__.a(!1,name);return this.addPort(port),port},DefaultNodeModel}(_models_node_model__WEBPACK_IMPORTED_MODULE_1__.a)},376:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_angular__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(59),_storybook_theming__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(278),theme=Object(_storybook_theming__WEBPACK_IMPORTED_MODULE_1__.create)({base:"light",brandTitle:"NGX-Diagrams",brandImage:"/icon.png"});Object(_storybook_angular__WEBPACK_IMPORTED_MODULE_0__.addParameters)({options:{showPanel:!1,theme:theme}}),Object(_storybook_angular__WEBPACK_IMPORTED_MODULE_0__.configure)(function loadStories(){__webpack_require__(553)},module)}.call(this,__webpack_require__(220)(module))},553:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_angular__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(59),projects_playground_src_app_app_component__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(280),projects_playground_src_app_components_markdown_wrapper_markdown_wrapper_component__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(282),ngx_diagrams__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(108),ngx_markdown__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(284),_README_md__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(283),_README_md__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_README_md__WEBPACK_IMPORTED_MODULE_5__);Object(_storybook_angular__WEBPACK_IMPORTED_MODULE_0__.storiesOf)("Docs",module).addDecorator(Object(_storybook_angular__WEBPACK_IMPORTED_MODULE_0__.moduleMetadata)({imports:[ngx_markdown__WEBPACK_IMPORTED_MODULE_4__.a.forRoot()]})).add("welcome",function(){return{component:projects_playground_src_app_components_markdown_wrapper_markdown_wrapper_component__WEBPACK_IMPORTED_MODULE_2__.a,props:{rawMarkdown:_README_md__WEBPACK_IMPORTED_MODULE_5___default.a}}}),Object(_storybook_angular__WEBPACK_IMPORTED_MODULE_0__.storiesOf)("Examples",module).addDecorator(Object(_storybook_angular__WEBPACK_IMPORTED_MODULE_0__.moduleMetadata)({imports:[ngx_diagrams__WEBPACK_IMPORTED_MODULE_3__.b]})).add("simple",function(){return{component:projects_playground_src_app_app_component__WEBPACK_IMPORTED_MODULE_1__.a}})}.call(this,__webpack_require__(220)(module))},554:function(module,exports){module.exports="<div class=\"ngdx-diagram\" #canvas (mousedown)=\"onMouseDown($event)\" (wheel)=\"onMouseWheel($event)\">\n\t\x3c!-- Nodes Layer --\x3e\n\t<div\n\t\tclass=\"ngdx-nodes-layer\"\n\t\t[ngStyle]=\"{\n\t\t\ttransform:\n\t\t\t\t'translate(' +\n\t\t\t\t(diagramModel.getOffsetX() | async) +\n\t\t\t\t'px, ' +\n\t\t\t\t(diagramModel.getOffsetY() | async) +\n\t\t\t\t'px) scale(' +\n\t\t\t\t(diagramModel.getZoomLevel() | async) / 100.0 +\n\t\t\t\t')'\n\t\t}\"\n\t>\n\t\t<ng-template #nodesLayer></ng-template>\n\t</div>\n\n\t\x3c!-- Links Layer --\x3e\n\t<div\n\t\tclass=\"ngdx-links-layer\"\n\t\t[ngStyle]=\"{\n\t\t\ttransform:\n\t\t\t\t'translate(' +\n\t\t\t\t(diagramModel.getOffsetX() | async) +\n\t\t\t\t'px, ' +\n\t\t\t\t(diagramModel.getOffsetY() | async) +\n\t\t\t\t'px) scale(' +\n\t\t\t\t(diagramModel.getZoomLevel() | async) / 100.0 +\n\t\t\t\t')'\n\t\t}\"\n\t>\n\t\t<ng-template #linksLayer></ng-template>\n\t</div>\n</div>\n"},555:function(module,exports){module.exports=".ngdx-diagram {\n  position: relative;\n  flex-grow: 1;\n  display: flex;\n  cursor: move;\n  overflow: hidden; }\n  .ngdx-diagram.selector {\n    position: absolute;\n    background-color: rgba(0, 192, 255, 0.2);\n    border: solid 2px #00c0ff; }\n  .ngdx-diagram .ngdx-nodes-layer {\n    position: absolute;\n    height: 100%;\n    width: 100%;\n    -webkit-transform-origin: 0 0;\n            transform-origin: 0 0;\n    overflow: visible !important;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    z-index: 100; }\n  .ngdx-diagram .ngdx-links-layer {\n    position: absolute;\n    height: 100%;\n    width: 100%;\n    -webkit-transform-origin: 0 0;\n            transform-origin: 0 0;\n    overflow: visible !important;\n    pointer-events: none;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    z-index: 50; }\n"},556:function(module,exports){module.exports="<div\n\tclass=\"default-node\"\n\t[ngStyle]=\"{\n\t\t'height.px': height$ | async,\n\t\t'width.px': width$ | async,\n\t\t'background-color': color\n\t}\"\n>\n\t<div class=\"ports\">\n\t\t<ng-template #portsLayer></ng-template>\n\t</div>\n</div>\n"},557:function(module,exports){module.exports=".default-node {\n  width: 100%;\n  border-radius: 10px;\n  transition: all 0.3s ease-in-out;\n  cursor: auto; }\n  .default-node .title {\n    padding: 10px;\n    text-align: center;\n    border-bottom: 1px solid blue; }\n"},558:function(module,exports){module.exports="<div [ngClass]=\"in ? 'in' : 'out'\"></div>\n"},559:function(module,exports){module.exports=":host {\n  position: absolute;\n  width: 10px;\n  height: 10px;\n  border-radius: 60px;\n  border: 1px solid violet;\n  background-color: lightgray;\n  margin: 10px 0; }\n  :host:hover {\n    background-color: green; }\n  :host.out {\n    right: -5px; }\n  :host.in {\n    left: -5px; }\n"},56:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return BaseModel});var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_base_entity__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(149),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(33),rxjs_operators__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(61),_interfaces_event_interface__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(78),BaseModel=function(_super){function BaseModel(type,id){var _this=_super.call(this,id)||this;return _this._parent=new rxjs__WEBPACK_IMPORTED_MODULE_2__.a(null),_this._parent$=_this._parent.asObservable(),_this._selected=new rxjs__WEBPACK_IMPORTED_MODULE_2__.a(!1),_this._selected$=_this._selected.asObservable(),_this._painted=new rxjs__WEBPACK_IMPORTED_MODULE_2__.a(!1),_this._painted$=_this._painted.asObservable(),_this._type=type,_this}return tslib__WEBPACK_IMPORTED_MODULE_0__.c(BaseModel,_super),BaseModel.prototype.getLocked=function(){return this.getParent().getLocked()||_super.prototype.getLocked.call(this)},BaseModel.prototype.getParent=function(){return this._parent.value},BaseModel.prototype.setParent=function(parent){this._parent.next(parent)},BaseModel.prototype.parentChanges=function(){var _this=this;return this._parent$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.a)(function(p){return Object(_interfaces_event_interface__WEBPACK_IMPORTED_MODULE_4__.d)(_this,p)}))},Object.defineProperty(BaseModel.prototype,"painted",{get:function(){return this._painted.value},set:function(painted){this._painted.next(painted)},enumerable:!0,configurable:!0}),BaseModel.prototype.paintChanges=function(){var _this=this;return this._painted$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.a)(function(p){return Object(_interfaces_event_interface__WEBPACK_IMPORTED_MODULE_4__.c)(_this,p)}))},Object.defineProperty(BaseModel.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(BaseModel.prototype,"selected",{get:function(){return this._selected.value},set:function(selected){this._selected.next(selected)},enumerable:!0,configurable:!0}),BaseModel.prototype.selectionChanges=function(){var _this=this;return this._selected$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.a)(function(s){return Object(_interfaces_event_interface__WEBPACK_IMPORTED_MODULE_4__.e)(_this,s)}))},BaseModel.prototype.getSelectedEntities=function(){return this._selected.value?[this]:[]},BaseModel.prototype.remove=function(){this.destroy()},BaseModel}(_base_entity__WEBPACK_IMPORTED_MODULE_1__.a)},560:function(module,exports){module.exports='<svg [ngStyle]="{ overflow: \'visible\', fill: \'none\' }">\n\t<g>\n\t\t<path [attr.stroke-width]="width" [attr.stroke]="color" [attr.d]="path$ | async"></path>\n\t</g>\n</svg>\n'},561:function(module,exports){module.exports=""},562:function(module,exports){module.exports='<ngdx-diagram class="demo-diagram" [model]="diagramModel"></ngdx-diagram>\n'},563:function(module,exports){module.exports=".demo-diagram {\n  display: flex;\n  height: 100%;\n  min-height: 300px;\n  background-color: #3c3c3c !important;\n  background-image: linear-gradient(0deg, transparent 24%, rgba(255, 255, 255, 0.05) 25%, rgba(255, 255, 255, 0.05) 26%, transparent 27%, transparent 74%, rgba(255, 255, 255, 0.05) 75%, rgba(255, 255, 255, 0.05) 76%, transparent 77%, transparent), linear-gradient(90deg, transparent 24%, rgba(255, 255, 255, 0.05) 25%, rgba(255, 255, 255, 0.05) 26%, transparent 27%, transparent 74%, rgba(255, 255, 255, 0.05) 75%, rgba(255, 255, 255, 0.05) 76%, transparent 77%, transparent);\n  background-size: 50px 50px; }\n"},564:function(module,exports){module.exports='<markdown ngPreserveWhitespaces [innerHTML]="rawMarkdown" class="markdown">\n</markdown>\n'},565:function(module,exports){module.exports=".markdown {\n  padding: 0 50px;\n  display: block; }\n"},566:function(module,exports,__webpack_require__){var content=__webpack_require__(567);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(568)(content,options);content.locals&&(module.exports=content.locals)},567:function(module,exports){module.exports=[[module.i,"/* You can add global styles to this file, and also import other style files */\nhtml,\nbody {\n  height: 100%;\n  width: 100%;\n  margin: 0; }\n","",""]]},58:function(module,__webpack_exports__,__webpack_require__){"use strict";var tslib_es6=__webpack_require__(0),base_model=__webpack_require__(56),BehaviorSubject=__webpack_require__(33),port_model_PortModel=function(_super){function PortModel(name,type,id,maximumLinks){var _this=_super.call(this,type,id)||this;return _this.name=name,_this.links$=new BehaviorSubject.a({}),_this.maximumLinks=maximumLinks,_this.x$=new BehaviorSubject.a(0),_this.y$=new BehaviorSubject.a(0),_this.height$=new BehaviorSubject.a(0),_this.width$=new BehaviorSubject.a(0),_this}return tslib_es6.c(PortModel,_super),PortModel.prototype.getNode=function(){return this.getParent},PortModel.prototype.getName=function(){return this.name},PortModel.prototype.selectX=function(){return this.x$.asObservable()},PortModel.prototype.selectY=function(){return this.y$.asObservable()},PortModel.prototype.getMaximumLinks=function(){return this.maximumLinks},PortModel.prototype.setMaximumLinks=function(maximumLinks){this.maximumLinks=maximumLinks},PortModel.prototype.removeLink=function(link){var links=this.links$.value;delete links[link.id],this.links$.next(tslib_es6.a({},links))},PortModel.prototype.addLink=function(link){var _a;this.links$.next(tslib_es6.a({},this.links$.value,((_a={})[link.id]=link,_a)))},PortModel.prototype.getLinks=function(){return this.links$.value},PortModel.prototype.selectLinks=function(){return this.links$.asObservable()},PortModel.prototype.updateCoords=function(_a){var x=_a.x,y=_a.y,width=_a.width,height=_a.height;this.x$.next(x),this.y$.next(y),this.width$.next(width),this.height$.next(height)},PortModel.prototype.canLinkToPort=function(port){return!0},PortModel.prototype.isLocked=function(){},PortModel.prototype.createLinkModel=function(){var numberOfLinks=Object.keys(this.links$.getValue()).length;return 1===this.maximumLinks&&numberOfLinks>=1?Object.values(this.links$.getValue())[0][0]:(this.maximumLinks,null)},PortModel}(base_model.a),default_link_model=__webpack_require__(31);__webpack_require__.d(__webpack_exports__,"a",function(){return default_port_model_DefaultPortModel});var default_port_model_DefaultPortModel=function(_super){function DefaultPortModel(isInput,name,label,id){void 0===isInput&&(isInput=!0),void 0===name&&(name="port"),void 0===label&&(label=null);var _this=_super.call(this,name,"default",id)||this;return _this.in=isInput,_this.label=label||name,_this}return tslib_es6.c(DefaultPortModel,_super),DefaultPortModel.prototype.link=function(port){var link=this.createLinkModel();return link.setSourcePort(this),link.setTargetPort(port),link},DefaultPortModel.prototype.canLinkToPort=function(port){return!(port instanceof DefaultPortModel)||this.in!==port.in},DefaultPortModel.prototype.createLinkModel=function(){return _super.prototype.createLinkModel.call(this)||new default_link_model.a},DefaultPortModel}(port_model_PortModel)},78:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return createBaseEvent}),__webpack_require__.d(__webpack_exports__,"b",function(){return createLockedEvent}),__webpack_require__.d(__webpack_exports__,"d",function(){return createParentEvent}),__webpack_require__.d(__webpack_exports__,"e",function(){return createSelectionEvent}),__webpack_require__.d(__webpack_exports__,"c",function(){return createPaintedEvent});var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_utils_tool_kit_util__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(94);function createBaseEvent(thisArg){var _this=this;return{id:Object(_utils_tool_kit_util__WEBPACK_IMPORTED_MODULE_1__.a)(),entity:thisArg,firing:!0,stopPropagation:function(){return _this.firing=!1}}}function createLockedEvent(thisArg,locked){return void 0===locked&&(locked=!1),tslib__WEBPACK_IMPORTED_MODULE_0__.a({},createBaseEvent(this),{locked:locked})}function createParentEvent(thisArg,parent){return tslib__WEBPACK_IMPORTED_MODULE_0__.a({},createBaseEvent(this),{parent:parent})}function createSelectionEvent(thisArg,isSelected){return tslib__WEBPACK_IMPORTED_MODULE_0__.a({},createBaseEvent(this),{isSelected:isSelected})}function createPaintedEvent(thisArg,painted){return tslib__WEBPACK_IMPORTED_MODULE_0__.a({},createBaseEvent(this),{isPainted:painted})}},94:function(module,__webpack_exports__,__webpack_require__){"use strict";function UID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var r=16*Math.random()|0;return("x"===c?r:3&r|8).toString(16)})}function generateCurvePath(firstPoint,lastPoint,curvy){void 0===curvy&&(curvy=0);var isHorizontal=Math.abs(firstPoint.x-lastPoint.x)>Math.abs(firstPoint.y-lastPoint.y),curvyX=isHorizontal?curvy:0,curvyY=isHorizontal?0:curvy;return"M"+firstPoint.x+","+firstPoint.y+" C "+(firstPoint.x+curvyX)+","+(firstPoint.y+curvyY)+"\n    "+(lastPoint.x-curvyX)+","+(lastPoint.y-curvyY)+" "+lastPoint.x+","+lastPoint.y}__webpack_require__.d(__webpack_exports__,"a",function(){return UID}),__webpack_require__.d(__webpack_exports__,"b",function(){return generateCurvePath})}},[[288,1,2]]]);
//# sourceMappingURL=main.fc44027512c04173e4d1.bundle.js.map