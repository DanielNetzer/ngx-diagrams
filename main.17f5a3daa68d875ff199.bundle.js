(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1025:function(module,exports,__webpack_require__){var content=__webpack_require__(1026);"string"==typeof content&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};__webpack_require__(1027)(content,options);content.locals&&(module.exports=content.locals)},1026:function(module,exports){module.exports=[[module.i,"/* You can add global styles to this file, and also import other style files */\nhtml,\nbody {\n  height: 100%;\n  width: 100%;\n  margin: 0;\n}","",""]]},105:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return LinkModel}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_base_model__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(56),_point_model__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(46),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(14),LinkModel=function(_super){function LinkModel(linkType,id){void 0===linkType&&(linkType="default");var _this=_super.call(this,linkType,id)||this;return _this.label=new rxjs__WEBPACK_IMPORTED_MODULE_3__.a(null),_this.points=[new _point_model__WEBPACK_IMPORTED_MODULE_2__.a(_this,{x:0,y:0}),new _point_model__WEBPACK_IMPORTED_MODULE_2__.a(_this,{x:0,y:0})],_this.extras={},_this.sourcePort=null,_this.targetPort=null,_this}return tslib__WEBPACK_IMPORTED_MODULE_0__.c(LinkModel,_super),LinkModel.prototype.setName=function(name){this.name=name},LinkModel.prototype.getName=function(){return this.name},LinkModel.prototype.getExtras=function(){return this.extras},LinkModel.prototype.setExtras=function(extras){this.extras=extras},LinkModel.prototype.destroy=function(options){this.sourcePort&&this.sourcePort.removeLink(this),this.targetPort&&this.targetPort.removeLink(this),_super.prototype.destroy.call(this,options)},LinkModel.prototype.doClone=function(lookupTable,clone){void 0===lookupTable&&(lookupTable={}),clone.setPoints(this.getPoints().map((function(point){return point.clone(lookupTable)}))),this.sourcePort&&clone.setSourcePort(this.sourcePort.clone(lookupTable)),this.targetPort&&clone.setTargetPort(this.targetPort.clone(lookupTable))},LinkModel.prototype.isLastPoint=function(point){return this.getPointIndex(point)===this.points.length-1},LinkModel.prototype.getPointIndex=function(point){return this.points.indexOf(point)},LinkModel.prototype.getPointModel=function(id){for(var _i=0,_a=this.points;_i<_a.length;_i++){var point=_a[_i];if(point.id===id)return point}return null},LinkModel.prototype.getPortForPoint=function(point){return null!==this.sourcePort&&this.getFirstPoint().id===point.id?this.sourcePort:null!==this.targetPort&&this.getLastPoint().id===point.id?this.targetPort:null},LinkModel.prototype.getPointForPort=function(port){return null!==this.sourcePort&&this.sourcePort.id===port.id?this.getFirstPoint():null!==this.targetPort&&this.targetPort.id===port.id?this.getLastPoint():null},LinkModel.prototype.getFirstPoint=function(){return this.points[0]},LinkModel.prototype.getLastPoint=function(){return this.points[this.points.length-1]},LinkModel.prototype.setSourcePort=function(port){null!==port&&port.addLink(this),null!==this.sourcePort&&this.sourcePort.removeLink(this),this.sourcePort=port},LinkModel.prototype.getSourcePort=function(){return this.sourcePort},LinkModel.prototype.getTargetPort=function(){return this.targetPort},LinkModel.prototype.setTargetPort=function(port){null!==port&&port.addLink(this),null!==this.targetPort&&this.targetPort.removeLink(this),this.targetPort=port},LinkModel.prototype.point=function(_a){var x=_a.x,y=_a.y;return this.addPoint(this.generatePoint({x:x,y:y}))},LinkModel.prototype.getPoints=function(){return this.points},LinkModel.prototype.setPoints=function(points){var _this=this;points.forEach((function(point){point.setParent(_this)})),this.points=points},LinkModel.prototype.setLabel=function(label){label.setParent(this),this.label.next(label),label.setPainted()},LinkModel.prototype.selectLabel=function(){return this.label.asObservable()},LinkModel.prototype.getLabel=function(){return this.label.getValue()},LinkModel.prototype.resetLabel=function(){var currentLabel=this.label.getValue();currentLabel&&(currentLabel.setParent(null),currentLabel.setPainted(!1)),this.label.next(null)},LinkModel.prototype.removePoint=function(pointModel){this.points.splice(this.getPointIndex(pointModel),1)},LinkModel.prototype.removePointsBefore=function(pointModel){this.points.splice(0,this.getPointIndex(pointModel))},LinkModel.prototype.removePointsAfter=function(pointModel){this.points.splice(this.getPointIndex(pointModel)+1)},LinkModel.prototype.removeMiddlePoints=function(){this.points.length>2&&this.points.splice(0,this.points.length-2)},LinkModel.prototype.addPoint=function(pointModel,index){return void 0===index&&(index=1),pointModel.setParent(this),this.points.splice(index,0,pointModel),pointModel},LinkModel.prototype.generatePoint=function(_a){var _b=_a.x,x=void 0===_b?0:_b,_c=_a.y,y=void 0===_c?0:_c;return new _point_model__WEBPACK_IMPORTED_MODULE_2__.a(this,{x:x,y:y})},LinkModel}(_base_model__WEBPACK_IMPORTED_MODULE_1__.a)},106:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return PortModel}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_base_model__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(56),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(14),PortModel=function(_super){function PortModel(name,type,id,maximumLinks,linkType){var _this=_super.call(this,type,id)||this;return _this.name=name,_this.links$=new rxjs__WEBPACK_IMPORTED_MODULE_2__.a({}),_this.maximumLinks=maximumLinks,_this.x$=new rxjs__WEBPACK_IMPORTED_MODULE_2__.a(0),_this.y$=new rxjs__WEBPACK_IMPORTED_MODULE_2__.a(0),_this.height$=new rxjs__WEBPACK_IMPORTED_MODULE_2__.a(0),_this.width$=new rxjs__WEBPACK_IMPORTED_MODULE_2__.a(0),_this.linkType=linkType,_this}return tslib__WEBPACK_IMPORTED_MODULE_0__.c(PortModel,_super),PortModel.prototype.getNode=function(){return this.getParent()},PortModel.prototype.getName=function(){return this.name},PortModel.prototype.selectX=function(){return this.x$.asObservable()},PortModel.prototype.selectY=function(){return this.y$.asObservable()},PortModel.prototype.getY=function(){return this.y$.getValue()},PortModel.prototype.getX=function(){return this.x$.getValue()},PortModel.prototype.getHeight=function(){return this.height$.getValue()},PortModel.prototype.getWidth=function(){return this.width$.getValue()},PortModel.prototype.getMaximumLinks=function(){return this.maximumLinks},PortModel.prototype.setMaximumLinks=function(maximumLinks){this.maximumLinks=maximumLinks},PortModel.prototype.getLinkType=function(){return this.linkType},PortModel.prototype.setLinkType=function(type){this.linkType=type},PortModel.prototype.removeLink=function(link){var links=this.links$.getValue();delete links[link.id],this.links$.next(tslib__WEBPACK_IMPORTED_MODULE_0__.a({},links))},PortModel.prototype.addLink=function(link){var _a;this.links$.next(tslib__WEBPACK_IMPORTED_MODULE_0__.a({},this.links$.value,((_a={})[link.id]=link,_a)))},PortModel.prototype.getLinks=function(){return this.links$.getValue()},PortModel.prototype.selectLinks=function(){return this.links$.asObservable()},PortModel.prototype.updateCoords=function(_a){var x=_a.x,y=_a.y,width=_a.width,height=_a.height;this.x$.next(x),this.y$.next(y),this.width$.next(width),this.height$.next(height)},PortModel.prototype.canLinkToPort=function(port){return!0},PortModel.prototype.isLocked=function(){return _super.prototype.getLocked.call(this)},PortModel.prototype.createLinkModel=function(){var numberOfLinks=Object.keys(this.links$.getValue()).length;return 1===this.maximumLinks&&numberOfLinks>=1?(Object.values(this.links$.getValue())[0].destroy(),null):numberOfLinks>=this.maximumLinks?(Object.values(this.links$.getValue())[0].destroy(),null):null},PortModel}(_base_model__WEBPACK_IMPORTED_MODULE_1__.a)},107:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DefaultPortModel}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_models_port_model__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(106),_default_link_model__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(121),DefaultPortModel=function(_super){function DefaultPortModel(_a){var _b=void 0===_a?{}:_a,_c=_b.isInput,isInput=void 0===_c||_c,_d=_b.name,name=void 0===_d?"port":_d,_e=_b.type,type=void 0===_e?"default":_e,_f=_b.id,id=void 0===_f?null:_f,_g=_b.label,label=void 0===_g?null:_g,_h=_b.linkType,linkType=void 0===_h?"default":_h,_this=_super.call(this,name,type,id,null,linkType)||this;return _this.in=isInput,_this.label=label||name,_this}return tslib__WEBPACK_IMPORTED_MODULE_0__.c(DefaultPortModel,_super),DefaultPortModel.prototype.link=function(port){var link=this.createLinkModel();return link.setSourcePort(this),link.setTargetPort(port),link},DefaultPortModel.prototype.canLinkToPort=function(port){return!(port instanceof DefaultPortModel)||this.in!==port.in},DefaultPortModel.prototype.createLinkModel=function(){return _super.prototype.createLinkModel.call(this)||new _default_link_model__WEBPACK_IMPORTED_MODULE_2__.a(this.getLinkType())},DefaultPortModel}(_models_port_model__WEBPACK_IMPORTED_MODULE_1__.a)},108:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return BaseEvent})),__webpack_require__.d(__webpack_exports__,"b",(function(){return LockEvent})),__webpack_require__.d(__webpack_exports__,"d",(function(){return ParentChangeEvent})),__webpack_require__.d(__webpack_exports__,"e",(function(){return SelectionEvent})),__webpack_require__.d(__webpack_exports__,"c",(function(){return PaintedEvent}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_utils_tool_kit_util__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(42),BaseEvent=function BaseEvent(entity){var _this=this;this.id=Object(_utils_tool_kit_util__WEBPACK_IMPORTED_MODULE_1__.b)(),this.entity=entity,this.entityId=entity.id,this.firing=!0,this.stopPropagation=function(){return _this.firing=!1}},LockEvent=function(_super){function LockEvent(entity,locked){void 0===locked&&(locked=!1);var _this=_super.call(this,entity)||this;return _this.locked=locked,_this}return tslib__WEBPACK_IMPORTED_MODULE_0__.c(LockEvent,_super),LockEvent}(BaseEvent),ParentChangeEvent=function(_super){function ParentChangeEvent(entity,parent){var _this=_super.call(this,entity)||this;return _this.parent=parent,_this}return tslib__WEBPACK_IMPORTED_MODULE_0__.c(ParentChangeEvent,_super),ParentChangeEvent}(BaseEvent),SelectionEvent=function(_super){function SelectionEvent(entity,selected){var _this=_super.call(this,entity)||this;return _this.isSelected=selected,_this}return tslib__WEBPACK_IMPORTED_MODULE_0__.c(SelectionEvent,_super),SelectionEvent}(BaseEvent),PaintedEvent=function(_super){function PaintedEvent(entity,painted){void 0===painted&&(painted=!1);var _this=_super.call(this,entity)||this;return _this.isPainted=painted,_this}return tslib__WEBPACK_IMPORTED_MODULE_0__.c(PaintedEvent,_super),PaintedEvent}(BaseEvent)},110:function(module,__webpack_exports__,__webpack_require__){"use strict";var base_action=__webpack_require__(86),tslib_es6=__webpack_require__(0),move_canvas_action_MoveCanvasAction=function(_super){function MoveCanvasAction(mouseX,mouseY,diagramModel){var _this=_super.call(this,mouseX,mouseY)||this;return _this.initialOffsetX=diagramModel.getOffsetX(),_this.initialOffsetY=diagramModel.getOffsetY(),_this}return tslib_es6.c(MoveCanvasAction,_super),MoveCanvasAction}(base_action.a),selecting_action_SelectingAction=function(_super){function SelectingAction(mouseX,mouseY){var _this=_super.call(this,mouseX,mouseY)||this;return _this.mouseX2=mouseX,_this.mouseY2=mouseY,_this}return tslib_es6.c(SelectingAction,_super),SelectingAction.prototype.getBoxDimensions=function(){return this.dimensions={left:this.mouseX2>this.mouseX?this.mouseX:this.mouseX2,top:this.mouseY2>this.mouseY?this.mouseY:this.mouseY2,width:Math.abs(this.mouseX2-this.mouseX),height:Math.abs(this.mouseY2-this.mouseY),right:this.mouseX2<this.mouseX?this.mouseX:this.mouseX2,bottom:this.mouseY2<this.mouseY?this.mouseY:this.mouseY2},this.dimensions},SelectingAction.prototype.containsElement=function(_a,diagramModel){var x=_a.x,y=_a.y,z=diagramModel.getZoomLevel()/100,dimensions=this.getBoxDimensions();return x*z+diagramModel.getOffsetX()>dimensions.left&&x*z+diagramModel.getOffsetX()<dimensions.right&&y*z+diagramModel.getOffsetY()>dimensions.top&&y*z+diagramModel.getOffsetY()<dimensions.bottom},SelectingAction}(base_action.a),move_items_action=__webpack_require__(139),links_created_action_LinkCreatedAction=function(_super){function LinkCreatedAction(mouseX,mouseY,link){var _this=_super.call(this,mouseX,mouseY)||this;return _this.sourcePort=link.getSourcePort(),_this.targetPort=link.getTargetPort(),_this.link=link,_this}return tslib_es6.c(LinkCreatedAction,_super),LinkCreatedAction.prototype.getOutPortNode=function(){return this.sourcePort.getParent()},LinkCreatedAction.prototype.getInPortNode=function(){return this.targetPort.getParent()},LinkCreatedAction}(base_action.a);__webpack_require__.d(__webpack_exports__,"b",(function(){return move_canvas_action_MoveCanvasAction})),__webpack_require__.d(__webpack_exports__,"d",(function(){return selecting_action_SelectingAction})),__webpack_require__.d(__webpack_exports__,"c",(function(){return move_items_action.a})),__webpack_require__.d(__webpack_exports__,"a",(function(){return links_created_action_LinkCreatedAction}))},121:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DefaultLinkModel}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),DefaultLinkModel=function(_super){function DefaultLinkModel(type){void 0===type&&(type="default");var _this=_super.call(this,type)||this;return _this.color="rgba(255,255,255,0.5)",_this.width=3,_this.curvyness=50,_this}return tslib__WEBPACK_IMPORTED_MODULE_0__.c(DefaultLinkModel,_super),DefaultLinkModel.prototype.setWidth=function(width){this.width=width},DefaultLinkModel.prototype.setColor=function(color){this.color=color},DefaultLinkModel}(__webpack_require__(105).a)},135:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DiagramModel}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),rxjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(14),_node_model__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(91),_link_model__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(105),_base_entity__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(293),lodash__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(113),_port_model__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(106),_point_model__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(46),DiagramModel=function(_super){function DiagramModel(diagramEngine,id){var _this=_super.call(this,id)||this;return _this.diagramEngine=diagramEngine,_this.nodes$=new rxjs__WEBPACK_IMPORTED_MODULE_1__.a({}),_this.links$=new rxjs__WEBPACK_IMPORTED_MODULE_1__.a({}),_this.zoom$=new rxjs__WEBPACK_IMPORTED_MODULE_1__.a(100),_this.offsetX$=new rxjs__WEBPACK_IMPORTED_MODULE_1__.a(0),_this.offsetY$=new rxjs__WEBPACK_IMPORTED_MODULE_1__.a(0),_this.gridSize$=new rxjs__WEBPACK_IMPORTED_MODULE_1__.a(0),_this}return tslib__WEBPACK_IMPORTED_MODULE_0__.c(DiagramModel,_super),DiagramModel.prototype.getNodes=function(){return this.nodes$.getValue()},DiagramModel.prototype.getNode=function(id){return this.nodes$.getValue()[id]},DiagramModel.prototype.getLink=function(id){return this.links$.getValue()[id]},DiagramModel.prototype.getLinks=function(){return this.links$.getValue()},DiagramModel.prototype.addNode=function(node){var _a;return this.nodes$.next(tslib__WEBPACK_IMPORTED_MODULE_0__.a({},this.nodes$.value,((_a={})[node.id]=node,_a))),node},DiagramModel.prototype.deleteNode=function(nodeOrId){var nodeID="string"==typeof nodeOrId?nodeOrId:nodeOrId.id,updNodes=tslib__WEBPACK_IMPORTED_MODULE_0__.a({},this.nodes$.value);delete updNodes[nodeID],this.nodes$.next(updNodes)},DiagramModel.prototype.selectNodes=function(){return this.nodes$.asObservable()},DiagramModel.prototype.addLink=function(link){var _a;return this.links$.next(tslib__WEBPACK_IMPORTED_MODULE_0__.a({},this.links$.value,((_a={})[link.id]=link,_a))),link},DiagramModel.prototype.deleteLink=function(linkOrId){var linkID="string"==typeof linkOrId?linkOrId:linkOrId.id,updLinks=tslib__WEBPACK_IMPORTED_MODULE_0__.a({},this.links$.value);delete updLinks[linkID],this.links$.next(updLinks)},DiagramModel.prototype.selectLinks=function(){return this.links$.asObservable()},DiagramModel.prototype.setOffset=function(x,y){this.offsetX$.next(x),this.offsetY$.next(y)},DiagramModel.prototype.setOffsetX=function(x){this.offsetX$.next(x)},DiagramModel.prototype.getOffsetX=function(){return this.offsetX$.getValue()},DiagramModel.prototype.selectOffsetX=function(){return this.offsetX$.asObservable()},DiagramModel.prototype.setOffsetY=function(y){this.offsetY$.next(y)},DiagramModel.prototype.getOffsetY=function(){return this.offsetY$.getValue()},DiagramModel.prototype.selectOffsetY=function(){return this.offsetY$.asObservable()},DiagramModel.prototype.setZoomLevel=function(z){this.zoom$.next(z)},DiagramModel.prototype.getZoomLevel=function(){return this.zoom$.getValue()},DiagramModel.prototype.selectZoomLevel=function(){return this.zoom$.asObservable()},DiagramModel.prototype.getDiagramEngine=function(){return this.diagramEngine},DiagramModel.prototype.clearSelection=function(ignore){void 0===ignore&&(ignore=null),this.getSelectedItems().forEach((function(element){ignore&&ignore.id===element.id||element.setSelected(!1)}))},DiagramModel.prototype.getGridPosition=function(_a){var x=_a.x,y=_a.y,gridSize=this.gridSize$.getValue();return 0===gridSize?{x:x,y:y}:{x:gridSize*Math.floor((x+gridSize/2)/gridSize),y:gridSize*Math.floor((y+gridSize/2)/gridSize)}},DiagramModel.prototype.getSelectedItems=function(){for(var filters=[],_i=0;_i<arguments.length;_i++)filters[_i]=arguments[_i];Array.isArray(filters)||(filters=[filters]);var items=[];return items=(items=(items=items.concat(Object(lodash__WEBPACK_IMPORTED_MODULE_5__.flatMap)(this.nodes$.getValue(),(function(node){return node.getSelectedEntities()})))).concat(Object(lodash__WEBPACK_IMPORTED_MODULE_5__.flatMap)(this.links$.getValue(),(function(link){return link.getSelectedEntities()})))).concat(Object(lodash__WEBPACK_IMPORTED_MODULE_5__.flatMap)(this.links$.getValue(),(function(link){return Object(lodash__WEBPACK_IMPORTED_MODULE_5__.flatMap)(link.getPoints(),(function(point){return point.getSelectedEntities()}))}))),items=Object(lodash__WEBPACK_IMPORTED_MODULE_5__.uniq)(items),filters.length>0&&(items=Object(lodash__WEBPACK_IMPORTED_MODULE_5__.uniq)(items).filter((function(item){return!!(filters.includes("node")&&item instanceof _node_model__WEBPACK_IMPORTED_MODULE_2__.a)||(!!(filters.includes("link")&&item instanceof _link_model__WEBPACK_IMPORTED_MODULE_3__.a)||(!!(filters.includes("port")&&item instanceof _port_model__WEBPACK_IMPORTED_MODULE_6__.a)||!!(filters.includes("point")&&item instanceof _point_model__WEBPACK_IMPORTED_MODULE_7__.a)))}))),items},DiagramModel.prototype.addAll=function(){for(var _this=this,models=[],_i=0;_i<arguments.length;_i++)models[_i]=arguments[_i];return models.forEach((function(model){model instanceof _link_model__WEBPACK_IMPORTED_MODULE_3__.a?_this.addLink(model):model instanceof _node_model__WEBPACK_IMPORTED_MODULE_2__.a&&_this.addNode(model)})),models},DiagramModel}(_base_entity__WEBPACK_IMPORTED_MODULE_4__.a)},136:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DefaultNodeModel}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_models_node_model__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(91),_default_port_model__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(107),DefaultNodeModel=function(_super){function DefaultNodeModel(name,type,id,color){void 0===name&&(name="Untitled"),void 0===type&&(type="default"),void 0===color&&(color="rgb(0, 192, 255)");var _this=_super.call(this,type,id)||this;return _this.name=name,_this.color=color,_this.height$=_this.selectHeight(),_this.width$=_this.selectWidth(),_this}return tslib__WEBPACK_IMPORTED_MODULE_0__.c(DefaultNodeModel,_super),DefaultNodeModel.prototype.addInPort=function(_a){var name=_a.name,_b=_a.type,type=void 0===_b?"default":_b,id=_a.id,_c=_a.linkType,linkType=void 0===_c?"default":_c,port=new _default_port_model__WEBPACK_IMPORTED_MODULE_2__.a({isInput:!0,name:name,type:type,id:id,label:null,linkType:linkType});return this.addPort(port),port},DefaultNodeModel.prototype.addOutPort=function(_a){var name=_a.name,_b=_a.type,type=void 0===_b?"default":_b,id=_a.id,_c=_a.linkType,linkType=void 0===_c?"default":_c,port=new _default_port_model__WEBPACK_IMPORTED_MODULE_2__.a({isInput:!1,name:name,type:type,id:id,label:null,linkType:linkType});return this.addPort(port),port},DefaultNodeModel}(_models_node_model__WEBPACK_IMPORTED_MODULE_1__.a)},139:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return MoveItemsAction}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_base_action__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(86),_models_link_model__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(105),MoveItemsAction=function(_super){function MoveItemsAction(mouseX,mouseY,diagramEngine){var _this=_super.call(this,mouseX,mouseY)||this;_this.moved=!1;var selectedItems=diagramEngine.getDiagramModel().getSelectedItems();return selectedItems=selectedItems.filter((function(item){return!(diagramEngine.isModelLocked(item)||item instanceof _models_link_model__WEBPACK_IMPORTED_MODULE_2__.a)})),_this.selectionModels=selectedItems.map((function(item){var _a=item.getCoords();return{model:item,initialX:_a.x,initialY:_a.y}})),_this}return tslib__WEBPACK_IMPORTED_MODULE_0__.c(MoveItemsAction,_super),MoveItemsAction}(_base_action__WEBPACK_IMPORTED_MODULE_1__.a)},157:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DefaultLabelModel}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_models_label_model__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(280),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(14),DefaultLabelModel=function(_super){function DefaultLabelModel(label,type){void 0===label&&(label="NO LABEL"),void 0===type&&(type="default");var _this=_super.call(this,type)||this;return _this._label=new rxjs__WEBPACK_IMPORTED_MODULE_2__.a(""),_this.label$=_this._label.asObservable(),_this.setLabel(label),_this}return tslib__WEBPACK_IMPORTED_MODULE_0__.c(DefaultLabelModel,_super),DefaultLabelModel.prototype.setLabel=function(label){this._label.next(label)},DefaultLabelModel.prototype.getLabel=function(){return this._label.getValue()},DefaultLabelModel.prototype.selectLabel=function(){return this.label$},DefaultLabelModel}(_models_label_model__WEBPACK_IMPORTED_MODULE_1__.a)},163:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DefaultNodeComponent}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),DefaultNodeComponent=function(_super){function DefaultNodeComponent(){return _super.call(this,"ngdx-default-node")||this}var _a;return tslib__WEBPACK_IMPORTED_MODULE_0__.c(DefaultNodeComponent,_super),DefaultNodeComponent.prototype.ngOnInit=function(){var _this=this;this.selectPorts().subscribe((function(ports){ports.forEach((function(port){port.getPainted()||(_this.generatePort(port),port.setPainted())}))}))},DefaultNodeComponent.prototype.generatePort=function(port){this.diagramEngine.generateWidgetForPort(port,this.portsLayer)},tslib__WEBPACK_IMPORTED_MODULE_0__.b([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewChild)("portsLayer",{read:_angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef,static:!0}),tslib__WEBPACK_IMPORTED_MODULE_0__.d("design:type","function"==typeof(_a=void 0!==_angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef)?_a:Object)],DefaultNodeComponent.prototype,"portsLayer",void 0),DefaultNodeComponent=tslib__WEBPACK_IMPORTED_MODULE_0__.b([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({selector:"ngdx-default-node",template:(__webpack_require__(248).default||__webpack_require__(248)).length?__webpack_require__(248).default||__webpack_require__(248):"",styles:[(__webpack_require__(249).default||__webpack_require__(249)).length?__webpack_require__(249).default||__webpack_require__(249):""]}),tslib__WEBPACK_IMPORTED_MODULE_0__.d("design:paramtypes",[])],DefaultNodeComponent)}(__webpack_require__(136).a)},164:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DefaultPortComponent}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),DefaultPortComponent=function(_super){function DefaultPortComponent(){return _super.call(this)||this}return tslib__WEBPACK_IMPORTED_MODULE_0__.c(DefaultPortComponent,_super),DefaultPortComponent=tslib__WEBPACK_IMPORTED_MODULE_0__.b([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({selector:"ngdx-default-port",template:(__webpack_require__(250).default||__webpack_require__(250)).length?__webpack_require__(250).default||__webpack_require__(250):"",styles:[(__webpack_require__(251).default||__webpack_require__(251)).length?__webpack_require__(251).default||__webpack_require__(251):""]}),tslib__WEBPACK_IMPORTED_MODULE_0__.d("design:paramtypes",[])],DefaultPortComponent)}(__webpack_require__(107).a)},165:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DefaultLinkComponent}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),_models_default_link_model__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(121),_utils_tool_kit_util__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(42),rxjs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(14),rxjs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(123),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(33),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(35),DefaultLinkComponent=function(_super){function DefaultLinkComponent(cdRef){var _this=_super.call(this,"ngdx-default-link")||this;return _this.cdRef=cdRef,_this._path$=new rxjs__WEBPACK_IMPORTED_MODULE_4__.a(null),_this.path$=_this._path$.asObservable(),_this.points$=new rxjs__WEBPACK_IMPORTED_MODULE_4__.a([]),_this}var _a,_b;return tslib__WEBPACK_IMPORTED_MODULE_0__.c(DefaultLinkComponent,_super),DefaultLinkComponent.prototype.ngAfterViewInit=function(){var _this=this,firstPCoords$=this.getFirstPoint().selectCoords(),lastPCoords$=this.getLastPoint().selectCoords();Object(rxjs__WEBPACK_IMPORTED_MODULE_5__.b)([firstPCoords$,lastPCoords$]).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.a)(this.onEntityDestroy())).subscribe((function(_a){var firstPCoords=_a[0],lastPCoords=_a[1],points=[firstPCoords,lastPCoords],xOrY=Math.abs(firstPCoords.x-lastPCoords.x)>Math.abs(firstPCoords.y-lastPCoords.y)?"x":"y",isStraight=!1;Math.abs(points[0][xOrY]-points[1][xOrY])<50&&(isStraight=!0);var path=Object(_utils_tool_kit_util__WEBPACK_IMPORTED_MODULE_3__.c)(firstPCoords,lastPCoords,isStraight?0:_this.curvyness);if(_this._path$.next(path),!_this.getTargetPort()){var danglingPoint=_this.generatePoint(lastPCoords);_this.points$.next([danglingPoint])}var label=_this.getLabel();label&&label.setCoords(_this.calcCenterOfPath(firstPCoords,lastPCoords)),_this.cdRef.detectChanges()})),this.selectLabel().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.a)(Boolean)).subscribe((function(label){_this.diagramEngine.generateWidgetForLabel(label,_this.labelLayer),_this.cdRef.detectChanges()}))},DefaultLinkComponent.prototype.calcLabelIncline=function(firstPoint,secondPoint){var dy=secondPoint.y-firstPoint.y,dx=secondPoint.x-firstPoint.x;if(0===dx)return 0;var inclineAngel=180*Math.atan(dy/dx)/Math.PI;return inclineAngel<0&&(inclineAngel+=180),inclineAngel},DefaultLinkComponent.prototype.calcCenterOfPath=function(firstPoint,secondPoint){return{x:(firstPoint.x+secondPoint.x)/2+20,y:(firstPoint.y+secondPoint.y)/2+20}},tslib__WEBPACK_IMPORTED_MODULE_0__.b([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewChild)("labelLayer",{read:_angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef,static:!0}),tslib__WEBPACK_IMPORTED_MODULE_0__.d("design:type","function"==typeof(_a=void 0!==_angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef)?_a:Object)],DefaultLinkComponent.prototype,"labelLayer",void 0),DefaultLinkComponent=tslib__WEBPACK_IMPORTED_MODULE_0__.b([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({selector:"ngdx-default-link",template:(__webpack_require__(252).default||__webpack_require__(252)).length?__webpack_require__(252).default||__webpack_require__(252):"",styles:[(__webpack_require__(253).default||__webpack_require__(253)).length?__webpack_require__(253).default||__webpack_require__(253):""]}),tslib__WEBPACK_IMPORTED_MODULE_0__.d("design:paramtypes",["function"==typeof(_b=void 0!==_angular_core__WEBPACK_IMPORTED_MODULE_1__.ChangeDetectorRef&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.ChangeDetectorRef)?_b:Object])],DefaultLinkComponent)}(_models_default_link_model__WEBPACK_IMPORTED_MODULE_2__.a)},166:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DefaultLabelComponent}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),DefaultLabelComponent=function(_super){function DefaultLabelComponent(){return _super.call(this,"ngdx-default-label")||this}return tslib__WEBPACK_IMPORTED_MODULE_0__.c(DefaultLabelComponent,_super),DefaultLabelComponent=tslib__WEBPACK_IMPORTED_MODULE_0__.b([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({selector:"ngdx-default-label",template:(__webpack_require__(254).default||__webpack_require__(254)).length?__webpack_require__(254).default||__webpack_require__(254):"",styles:[(__webpack_require__(255).default||__webpack_require__(255)).length?__webpack_require__(255).default||__webpack_require__(255):""]}),tslib__WEBPACK_IMPORTED_MODULE_0__.d("design:paramtypes",[])],DefaultLabelComponent)}(__webpack_require__(157).a)},194:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return NgxDiagramComponent}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),_models_diagram_model__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(135),_models_node_model__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(91),rxjs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(14),rxjs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(133),rxjs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(123),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(33),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(35),_actions__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(110),_actions_move_items_action__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(139),_models_point_model__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(46),_models_port_model__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(106),lodash__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(113),NgxDiagramComponent=function(){function NgxDiagramComponent(renderer,cdRef){var _this=this;this.renderer=renderer,this.cdRef=cdRef,this.allowCanvasZoon=!0,this.allowCanvasTranslation=!0,this.inverseZoom=!0,this.allowLooseLinks=!0,this.actionStartedFiring=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.actionStillFiring=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.actionStoppedFiring=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.action$=new rxjs__WEBPACK_IMPORTED_MODULE_4__.a(null),this.destroyed$=new rxjs__WEBPACK_IMPORTED_MODULE_5__.a(1),this.mouseUpListener=function(){},this.mouseMoveListener=function(){},this.onMouseUp=function(event){var diagramEngine=_this.diagramModel.getDiagramEngine(),action=_this.action$.getValue();if(action instanceof _actions_move_items_action__WEBPACK_IMPORTED_MODULE_10__.a){var element_1=_this.getMouseElement(event);action.selectionModels.forEach((function(model){if(model.model instanceof _models_point_model__WEBPACK_IMPORTED_MODULE_11__.a&&element_1&&element_1.model instanceof _models_port_model__WEBPACK_IMPORTED_MODULE_12__.a&&!diagramEngine.isModelLocked(element_1.model)){var link=model.model.getLink();if(null!==link.getTargetPort())if(link.getTargetPort()!==element_1.model&&link.getSourcePort()!==element_1.model){var targetPort=link.getTargetPort(),newLink=link.clone({});newLink.setSourcePort(element_1.model),newLink.setTargetPort(targetPort),link.setTargetPort(element_1.model),targetPort.removeLink(link),newLink.removePointsBefore(newLink.getPoints()[link.getPointIndex(model.model)]),link.removePointsAfter(model.model),diagramEngine.getDiagramModel().addLink(newLink)}else link.getTargetPort()===element_1.model?link.removePointsAfter(model.model):link.getSourcePort()===element_1.model&&link.removePointsBefore(model.model);else{link.setTargetPort(element_1.model);targetPort=link.getTargetPort();var srcPort=link.getSourcePort();targetPort.id!==srcPort.id&&_this.startFiringAction(new _actions__WEBPACK_IMPORTED_MODULE_9__.a(event.clientX,event.clientY,link))}}})),_this.allowLooseLinks||action.selectionModels.forEach((function(model){if(model.model instanceof _models_point_model__WEBPACK_IMPORTED_MODULE_11__.a){var link=model.model.getLink();null!==link.getSourcePort()&&null!==link.getTargetPort()||link.destroy()}})),action.selectionModels.forEach((function(model){if(model.model instanceof _models_point_model__WEBPACK_IMPORTED_MODULE_11__.a){var link=model.model.getLink(),sourcePort=link.getSourcePort(),targetPort=link.getTargetPort();null!==sourcePort&&null!==targetPort&&(sourcePort.canLinkToPort(targetPort)?Object(lodash__WEBPACK_IMPORTED_MODULE_13__.some)(Object.values(targetPort.getLinks()),(function(l){return l!==link&&(l.getSourcePort()===sourcePort||l.getTargetPort()===sourcePort)}))&&link.destroy():link.destroy())}})),_this.stopFiringAction()}else _this.stopFiringAction();_this.mouseUpListener(),_this.mouseMoveListener(),_this.action$.next(null)},this.onMouseMove=function(event){var action=_this.action$.getValue();if(null!=action){if(action instanceof _actions__WEBPACK_IMPORTED_MODULE_9__.d){var relative=_this.diagramModel.getDiagramEngine().getRelativePoint(event.clientX,event.clientY);return Object.values(_this.diagramModel.getNodes()).forEach((function(node){action.containsElement(node.getCoords(),_this.diagramModel)?node.setSelected():node.setSelected(!1)})),Object.values(_this.diagramModel.getLinks()).forEach((function(link){var allSelected=!0;link.getPoints().forEach((function(point){action.containsElement(point.getCoords(),_this.diagramModel)?point.setSelected():(point.setSelected(!1),allSelected=!1)})),allSelected&&link.setSelected()})),action.mouseX2=relative.x,action.mouseY2=relative.y,_this.fireAction(),void _this.action$.next(action)}if(action instanceof _actions_move_items_action__WEBPACK_IMPORTED_MODULE_10__.a){var coords_1={x:event.clientX-action.mouseX,y:event.clientY-action.mouseY},amountZoom_1=_this.diagramModel.getZoomLevel()/100;action.selectionModels.forEach((function(model){if(model.model instanceof _models_node_model__WEBPACK_IMPORTED_MODULE_3__.a||model.model instanceof _models_point_model__WEBPACK_IMPORTED_MODULE_11__.a&&!model.model.isConnectedToPort()){var newCoords={x:model.initialX+coords_1.x/amountZoom_1,y:model.initialY+coords_1.y/amountZoom_1};model.model.setCoords(_this.diagramModel.getGridPosition(newCoords)),model.model instanceof _models_node_model__WEBPACK_IMPORTED_MODULE_3__.a&&Object.values(model.model.getPorts()).forEach((function(port){var portCoords=_this.diagramModel.getDiagramEngine().getPortCoords(port);port.updateCoords(portCoords)}))}else if(model.model instanceof _models_point_model__WEBPACK_IMPORTED_MODULE_11__.a){newCoords=_this.diagramModel.getGridPosition({x:coords_1.x/amountZoom_1,y:coords_1.y/amountZoom_1});model.model.setCoords({x:model.initialX+newCoords.x,y:model.initialY+newCoords.y})}})),_this.fireAction()}else action instanceof _actions__WEBPACK_IMPORTED_MODULE_9__.b&&_this.allowCanvasTranslation&&(_this.diagramModel.setOffset(action.initialOffsetX+(event.clientX-action.mouseX),action.initialOffsetY+(event.clientY-action.mouseY)),_this.fireAction())}}}var _a,_b,_c,_d,_e,_f,_g,_h,_j;return NgxDiagramComponent.prototype.ngOnInit=function(){var _this=this;this.diagramModel&&(this.diagramModel.getDiagramEngine().setCanvas(this.canvas.nativeElement),this.nodes$=this.diagramModel.selectNodes(),this.links$=this.diagramModel.selectLinks(),this.nodesRendered$=new rxjs__WEBPACK_IMPORTED_MODULE_4__.a(!1),this.nodes$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.a)(this.destroyed$)).subscribe((function(nodes){_this.nodesRendered$.next(!1),Object.values(nodes).forEach((function(node){node.getPainted()||(_this.diagramModel.getDiagramEngine().generateWidgetForNode(node,_this.nodesLayer),node.setPainted(),_this.cdRef.detectChanges())})),_this.nodesRendered$.next(!0)})))},NgxDiagramComponent.prototype.ngOnDestroy=function(){this.destroyed$.next(!0),this.destroyed$.complete()},NgxDiagramComponent.prototype.ngAfterViewInit=function(){var _this=this;Object(rxjs__WEBPACK_IMPORTED_MODULE_6__.b)([this.nodesRendered$,this.links$]).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.a)(this.destroyed$),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.a)((function(_a){var nodesRendered=_a[0];_a[1];return!!nodesRendered}))).subscribe((function(_a){_a[0];var links=_a[1];Object.values(links).forEach((function(link){if(!link.getPainted()){if(null!==link.getSourcePort()){var portCenter=_this.diagramModel.getDiagramEngine().getPortCenter(link.getSourcePort());link.getPoints()[0].setCoords(portCenter);var portCoords=_this.diagramModel.getDiagramEngine().getPortCoords(link.getSourcePort());link.getSourcePort().updateCoords(portCoords)}if(null!==link.getTargetPort()){portCenter=_this.diagramModel.getDiagramEngine().getPortCenter(link.getTargetPort());link.getPoints()[link.getPoints().length-1].setCoords(portCenter);portCoords=_this.diagramModel.getDiagramEngine().getPortCoords(link.getTargetPort());link.getTargetPort().updateCoords(portCoords)}_this.diagramModel.getDiagramEngine().generateWidgetForLink(link,_this.linksLayer),link.setPainted(),_this.cdRef.detectChanges()}}))}))},NgxDiagramComponent.prototype.fireAction=function(){this.action$.value&&this.actionStillFiring.emit(this.action$.value)},NgxDiagramComponent.prototype.stopFiringAction=function(shouldSkipEvent){shouldSkipEvent||this.actionStoppedFiring.emit(this.action$.value),this.action$.next(null)},NgxDiagramComponent.prototype.startFiringAction=function(action){this.action$.next(action),this.actionStartedFiring.emit(action)},NgxDiagramComponent.prototype.selectAction=function(){return this.action$},NgxDiagramComponent.prototype.shouldDrawSelectionBox=function(){var action=this.action$.getValue();return action instanceof _actions__WEBPACK_IMPORTED_MODULE_9__.d&&(action.getBoxDimensions(),!0)},NgxDiagramComponent.prototype.getMouseElement=function(event){var target=event.target,element=target.closest("[data-portid]");if(element){var nodeEl=target.closest("[data-nodeid]");return{model:this.diagramModel.getNode(nodeEl.getAttribute("data-nodeid")).getPort(element.getAttribute("data-portid")),element:element}}return(element=target.closest("[data-pointid]"))?{model:this.diagramModel.getLink(element.getAttribute("data-linkid")).getPointModel(element.getAttribute("data-pointid")),element:element}:(element=target.closest("[data-linkid]"))?{model:this.diagramModel.getLink(element.getAttribute("data-linkid")),element:element}:(element=target.closest("[data-nodeid]"))?{model:this.diagramModel.getNode(element.getAttribute("data-nodeid")),element:element}:null},NgxDiagramComponent.prototype.onMouseDown=function(event){if(3!==event.button){var selectedModel=this.getMouseElement(event);if(null===selectedModel)if(event.shiftKey){var relative=this.diagramModel.getDiagramEngine().getRelativePoint(event.clientX,event.clientY);this.startFiringAction(new _actions__WEBPACK_IMPORTED_MODULE_9__.d(relative.x,relative.y))}else this.diagramModel.clearSelection(),this.startFiringAction(new _actions__WEBPACK_IMPORTED_MODULE_9__.b(event.clientX,event.clientY,this.diagramModel));else if(selectedModel.model instanceof _models_port_model__WEBPACK_IMPORTED_MODULE_12__.a)if(this.diagramModel.getDiagramEngine().isModelLocked(selectedModel.model))this.diagramModel.clearSelection();else{relative=this.diagramModel.getDiagramEngine().getRelativeMousePoint(event);var sourcePort=selectedModel.model,link=sourcePort.createLinkModel();link.setSourcePort(sourcePort),link&&(link.removeMiddlePoints(),link.getSourcePort()!==sourcePort&&link.setSourcePort(sourcePort),link.setTargetPort(null),link.getFirstPoint().setCoords(relative),link.getLastPoint().setCoords(relative),this.diagramModel.clearSelection(),link.getLastPoint().setSelected(),this.diagramModel.addLink(link),this.startFiringAction(new _actions_move_items_action__WEBPACK_IMPORTED_MODULE_10__.a(event.clientX,event.clientY,this.diagramModel.getDiagramEngine())))}else event.shiftKey||selectedModel.model.getSelected()||this.diagramModel.clearSelection(),selectedModel.model.setSelected(),this.startFiringAction(new _actions_move_items_action__WEBPACK_IMPORTED_MODULE_10__.a(event.clientX,event.clientY,this.diagramModel.getDiagramEngine()));this.mouseMoveListener=this.renderer.listen(document,"mousemove",this.onMouseMove),this.mouseUpListener=this.renderer.listen(document,"mouseup",this.onMouseUp)}},NgxDiagramComponent.prototype.onMouseWheel=function(event){if(this.allowCanvasZoon){event.preventDefault(),event.stopPropagation();var currentZoomLevel=this.diagramModel.getZoomLevel(),oldZoomFactor=currentZoomLevel/100,scrollDelta=this.inverseZoom?-event.deltaY:event.deltaY;event.ctrlKey&&scrollDelta%1!=0?scrollDelta/=3:scrollDelta/=60,currentZoomLevel+scrollDelta>10&&this.diagramModel.setZoomLevel(currentZoomLevel+scrollDelta);var zoomFactor=this.diagramModel.getZoomLevel()/100,boundingRect=event.currentTarget.getBoundingClientRect(),clientWidth=boundingRect.width,clientHeight=boundingRect.height,widthDiff=clientWidth*zoomFactor-clientWidth*oldZoomFactor,heightDiff=clientHeight*zoomFactor-clientHeight*oldZoomFactor,clientX=event.clientX-boundingRect.left,clientY=event.clientY-boundingRect.top,xFactor=(clientX-this.diagramModel.getOffsetX())/oldZoomFactor/clientWidth,yFactor=(clientY-this.diagramModel.getOffsetY())/oldZoomFactor/clientHeight;this.diagramModel.setOffset(this.diagramModel.getOffsetX()-widthDiff*xFactor,this.diagramModel.getOffsetY()-heightDiff*yFactor)}},tslib__WEBPACK_IMPORTED_MODULE_0__.b([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)("model"),tslib__WEBPACK_IMPORTED_MODULE_0__.d("design:type","function"==typeof(_a=void 0!==_models_diagram_model__WEBPACK_IMPORTED_MODULE_2__.a&&_models_diagram_model__WEBPACK_IMPORTED_MODULE_2__.a)?_a:Object)],NgxDiagramComponent.prototype,"diagramModel",void 0),tslib__WEBPACK_IMPORTED_MODULE_0__.b([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),tslib__WEBPACK_IMPORTED_MODULE_0__.d("design:type",Object)],NgxDiagramComponent.prototype,"allowCanvasZoon",void 0),tslib__WEBPACK_IMPORTED_MODULE_0__.b([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),tslib__WEBPACK_IMPORTED_MODULE_0__.d("design:type",Object)],NgxDiagramComponent.prototype,"allowCanvasTranslation",void 0),tslib__WEBPACK_IMPORTED_MODULE_0__.b([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),tslib__WEBPACK_IMPORTED_MODULE_0__.d("design:type",Object)],NgxDiagramComponent.prototype,"inverseZoom",void 0),tslib__WEBPACK_IMPORTED_MODULE_0__.b([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),tslib__WEBPACK_IMPORTED_MODULE_0__.d("design:type",Object)],NgxDiagramComponent.prototype,"allowLooseLinks",void 0),tslib__WEBPACK_IMPORTED_MODULE_0__.b([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output)(),tslib__WEBPACK_IMPORTED_MODULE_0__.d("design:type","function"==typeof(_b=void 0!==_angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter)?_b:Object)],NgxDiagramComponent.prototype,"actionStartedFiring",void 0),tslib__WEBPACK_IMPORTED_MODULE_0__.b([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output)(),tslib__WEBPACK_IMPORTED_MODULE_0__.d("design:type","function"==typeof(_c=void 0!==_angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter)?_c:Object)],NgxDiagramComponent.prototype,"actionStillFiring",void 0),tslib__WEBPACK_IMPORTED_MODULE_0__.b([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output)(),tslib__WEBPACK_IMPORTED_MODULE_0__.d("design:type","function"==typeof(_d=void 0!==_angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter)?_d:Object)],NgxDiagramComponent.prototype,"actionStoppedFiring",void 0),tslib__WEBPACK_IMPORTED_MODULE_0__.b([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewChild)("nodesLayer",{read:_angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef,static:!0}),tslib__WEBPACK_IMPORTED_MODULE_0__.d("design:type","function"==typeof(_e=void 0!==_angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef)?_e:Object)],NgxDiagramComponent.prototype,"nodesLayer",void 0),tslib__WEBPACK_IMPORTED_MODULE_0__.b([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewChild)("linksLayer",{read:_angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef,static:!0}),tslib__WEBPACK_IMPORTED_MODULE_0__.d("design:type","function"==typeof(_f=void 0!==_angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef)?_f:Object)],NgxDiagramComponent.prototype,"linksLayer",void 0),tslib__WEBPACK_IMPORTED_MODULE_0__.b([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewChild)("canvas",{read:_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef,static:!0}),tslib__WEBPACK_IMPORTED_MODULE_0__.d("design:type","function"==typeof(_g=void 0!==_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef)?_g:Object)],NgxDiagramComponent.prototype,"canvas",void 0),NgxDiagramComponent=tslib__WEBPACK_IMPORTED_MODULE_0__.b([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({selector:"ngdx-diagram",template:(__webpack_require__(246).default||__webpack_require__(246)).length?__webpack_require__(246).default||__webpack_require__(246):"",styles:[(__webpack_require__(247).default||__webpack_require__(247)).length?__webpack_require__(247).default||__webpack_require__(247):""],changeDetection:_angular_core__WEBPACK_IMPORTED_MODULE_1__.ChangeDetectionStrategy.OnPush}),tslib__WEBPACK_IMPORTED_MODULE_0__.d("design:paramtypes",["function"==typeof(_h=void 0!==_angular_core__WEBPACK_IMPORTED_MODULE_1__.Renderer2&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.Renderer2)?_h:Object,"function"==typeof(_j=void 0!==_angular_core__WEBPACK_IMPORTED_MODULE_1__.ChangeDetectorRef&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.ChangeDetectorRef)?_j:Object])],NgxDiagramComponent)}()},246:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="<div class=\"ngdx-diagram\" #canvas (mousedown)=\"onMouseDown($event)\" (wheel)=\"onMouseWheel($event)\">\n\t\x3c!-- Nodes Layer --\x3e\n\t<div\n\t\tclass=\"ngdx-nodes-layer\"\n\t\t[ngStyle]=\"{\n\t\t\ttransform:\n\t\t\t\t'translate(' +\n\t\t\t\t(diagramModel.selectOffsetX() | async) +\n\t\t\t\t'px, ' +\n\t\t\t\t(diagramModel.selectOffsetY() | async) +\n\t\t\t\t'px) scale(' +\n\t\t\t\t(diagramModel.selectZoomLevel() | async) / 100.0 +\n\t\t\t\t')'\n\t\t}\"\n\t>\n\t\t<ng-template #nodesLayer></ng-template>\n\t</div>\n\n\t\x3c!-- Links Layer --\x3e\n\t<div\n\t\tclass=\"ngdx-links-layer\"\n\t\t[ngStyle]=\"{\n\t\t\ttransform:\n\t\t\t\t'translate(' +\n\t\t\t\t(diagramModel.selectOffsetX() | async) +\n\t\t\t\t'px, ' +\n\t\t\t\t(diagramModel.selectOffsetY() | async) +\n\t\t\t\t'px) scale(' +\n\t\t\t\t(diagramModel.selectZoomLevel() | async) / 100.0 +\n\t\t\t\t')'\n\t\t}\"\n\t>\n\t\t<ng-template #linksLayer></ng-template>\n\t</div>\n\n\t\x3c!-- Selection Box --\x3e\n\t<div\n\t\t*ngIf=\"shouldDrawSelectionBox() && selectAction() | async as action\"\n\t\tclass=\"selector\"\n\t\t[ngStyle]=\"{\n\t\t\ttop: action.dimensions.top + 'px',\n\t\t\tleft: action.dimensions.left + 'px',\n\t\t\twidth: action.dimensions.width + 'px',\n\t\t\theight: action.dimensions.height + 'px'\n\t\t}\"\n\t></div>\n</div>\n"},247:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=".ngdx-diagram {\n  position: relative;\n  flex-grow: 1;\n  display: flex;\n  cursor: move;\n  overflow: hidden;\n}\n.ngdx-diagram .selector {\n  position: absolute;\n  background-color: rgba(0, 192, 255, 0.2);\n  border: solid 2px #00c0ff;\n}\n.ngdx-diagram .ngdx-nodes-layer {\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  transform-origin: 0 0;\n  overflow: visible !important;\n  pointer-events: none;\n  z-index: 150;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n.ngdx-diagram .ngdx-links-layer {\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  transform-origin: 0 0;\n  overflow: visible !important;\n  pointer-events: none;\n  z-index: 100;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}"},248:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="<div\n\tclass=\"default-node\"\n\t[ngStyle]=\"{\n\t\t'height.px': height$ | async,\n\t\t'width.px': width$ | async,\n\t\t'background-color': color\n\t}\"\n>\n\t<div class=\"ports\">\n\t\t<ng-template #portsLayer></ng-template>\n\t</div>\n</div>\n"},249:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=":host.selected .default-node {\n  background-color: white !important;\n  border-color: blue;\n}\n:host .default-node {\n  pointer-events: all;\n  width: 100%;\n  border-radius: 10px;\n  transition: all 0.3s ease-in-out;\n  cursor: auto;\n}\n:host .default-node .title {\n  padding: 10px;\n  text-align: center;\n  border-bottom: 1px solid blue;\n}"},250:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="<div [ngClass]=\"in ? 'in' : 'out'\"></div>\n"},251:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=":host {\n  position: absolute;\n  width: 10px;\n  height: 10px;\n  border-radius: 60px;\n  border: 1px solid violet;\n  background-color: lightgray;\n  margin: 10px 0;\n}\n:host:hover {\n  background-color: green;\n}\n:host.out {\n  right: -5px;\n}\n:host.in {\n  left: -5px;\n}"},252:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='\x3c!-- Label Host --\x3e\n<ng-template #labelLayer></ng-template>\n\n\x3c!-- Link --\x3e\n<svg class="default-link">\n\t<g>\n\t\t<path [attr.stroke-width]="width" [attr.stroke]="color" [attr.d]="path$ | async"></path>\n\t\t<path\n\t\t\t(mouseleave)="setSelected(false)"\n\t\t\t(mouseenter)="setSelected()"\n\t\t\t[attr.stroke-width]="20"\n\t\t\t[attr.stroke]="color"\n\t\t\t[attr.stroke-linecap]="\'round\'"\n\t\t\t[attr.data-linkid]="id"\n\t\t\t[attr.stroke-opacity]="(selectSelected() | async) ? \'0.1\' : \'0\'"\n\t\t\t[attr.d]="path$ | async"\n\t\t></path>\n\t</g>\n\t<g *ngFor="let point of points$ | async">\n\t\t<circle [attr.cx]="point.selectX() | async" [attr.cy]="point.selectY() | async" r="5" class="default-point" />\n\n\t\t<circle\n\t\t\t(mouseleave)="setSelected(false)"\n\t\t\t(mouseenter)="setSelected()"\n\t\t\t[attr.data-id]="point.id"\n\t\t\t[attr.data-linkid]="id"\n\t\t\t[attr.cx]="point.selectX() | async"\n\t\t\t[attr.cy]="point.selectY() | async"\n\t\t\tr="15"\n\t\t\t[attr.opacity]="0"\n\t\t\tclass="default-point"\n\t\t\t[ngClass]="{ \'default-point\': true, selected: point.selectSelected() | async }"\n\t\t/>\n\t\t{{ point.selectSelected() | async }}\n\t</g>\n</svg>\n'},253:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=".default-link {\n  fill: none;\n  overflow: visible;\n}\n.default-link .default-point {\n  fill: rgba(255, 255, 255, 0.5);\n}\n.default-link .default-point.selected {\n  fill: rgba(0, 0, 255, 0.5);\n}\n@-webkit-keyframes dash {\n  from {\n    stroke-dashoffset: 24;\n  }\n  to {\n    stroke-dashoffset: 0;\n  }\n}\n@keyframes dash {\n  from {\n    stroke-dashoffset: 24;\n  }\n  to {\n    stroke-dashoffset: 0;\n  }\n}\n.default-link path {\n  fill: none;\n  pointer-events: all;\n}\n.default-link.path-selected {\n  stroke: #00c0ff !important;\n  stroke-dasharray: 10, 2;\n  -webkit-animation: dash 1s linear infinite;\n          animation: dash 1s linear infinite;\n}"},254:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="<div\n\tclass=\"default-label\"\n\t[ngStyle]=\"{\n\t\ttransform:\n\t\t\t'translate(' +\n\t\t\t(selectCoords() | async).x +\n\t\t\t'px, ' +\n\t\t\t(selectCoords() | async).y +\n\t\t\t'px)' +\n\t\t\t'rotate(' +\n\t\t\t(selectRotation() | async) +\n\t\t\t'deg)'\n\t}\"\n>\n\t{{ label$ | async }}\n</div>\n"},255:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=".default-label {\n  color: white;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}"},258:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='\x3c!-- Label Host --\x3e\n<ng-template #labelLayer></ng-template>\n\n<svg class="intent-link">\n\t<g>\n\t\t<path [attr.stroke-width]="width" [attr.stroke]="color" [attr.d]="path$ | async"></path>\n\t\t<path\n\t\t\t(mouseleave)="setSelected(false)"\n\t\t\t(mouseenter)="setSelected()"\n\t\t\t[attr.stroke-width]="20"\n\t\t\t[attr.stroke]="color"\n\t\t\t[attr.stroke-linecap]="\'round\'"\n\t\t\t[attr.data-linkid]="id"\n\t\t\t[attr.stroke-opacity]="(selectSelected() | async) ? \'0.1\' : \'0\'"\n\t\t\t[attr.d]="path$ | async"\n\t\t></path>\n\t</g>\n\t<g *ngFor="let point of points$ | async">\n\t\t<circle [attr.cx]="(point.coords$ | async).x" [attr.cy]="(point.coords$ | async).y" r="5" class="default-point" />\n\n\t\t<circle\n\t\t\t(mouseleave)="setSelected(false)"\n\t\t\t(mouseenter)="setSelected()"\n\t\t\t[attr.data-id]="point.id"\n\t\t\t[attr.data-linkid]="id"\n\t\t\t[attr.cx]="(point.coords$ | async).x"\n\t\t\t[attr.cy]="(point.coords$ | async).y"\n\t\t\tr="15"\n\t\t\t[attr.opacity]="0"\n\t\t\tclass="default-point"\n\t\t\t[ngClass]="{ \'default-point\': true, selected: point.selectSelected() | async }"\n\t\t/>\n\t\t{{ point.selectSelected() | async }}\n\t</g>\n</svg>\n'},259:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=".intent-link {\n  fill: none;\n  overflow: visible;\n}\n.intent-link .default-point {\n  fill: rgba(255, 255, 255, 0.5);\n}\n.intent-link .default-point.selected {\n  fill: rgba(0, 0, 255, 0.5);\n}\n@-webkit-keyframes dash {\n  from {\n    stroke-dashoffset: 24;\n  }\n  to {\n    stroke-dashoffset: 0;\n  }\n}\n@keyframes dash {\n  from {\n    stroke-dashoffset: 24;\n  }\n  to {\n    stroke-dashoffset: 0;\n  }\n}\n.intent-link path {\n  fill: none;\n  pointer-events: all;\n  stroke: red;\n}\n.intent-link.path-selected {\n  stroke: #00c0ff !important;\n  stroke-dasharray: 10, 2;\n  -webkit-animation: dash 1s linear infinite;\n          animation: dash 1s linear infinite;\n}"},260:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<ngdx-diagram\n\tclass="demo-diagram"\n\t[model]="diagramModel"\n\t[allowLooseLinks]="false"\n\t(actionStartedFiring)="onActionStarted($event)"\n></ngdx-diagram>\n<div class="actions">\n\t<button (click)="redistribute()">AUTO ARRANGE!</button>\n</div>\n'},261:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=".demo-diagram {\n  display: flex;\n  height: 100%;\n  min-height: 300px;\n  background-color: #3c3c3c !important;\n  background-image: linear-gradient(0deg, transparent 24%, rgba(255, 255, 255, 0.05) 25%, rgba(255, 255, 255, 0.05) 26%, transparent 27%, transparent 74%, rgba(255, 255, 255, 0.05) 75%, rgba(255, 255, 255, 0.05) 76%, transparent 77%, transparent), linear-gradient(90deg, transparent 24%, rgba(255, 255, 255, 0.05) 25%, rgba(255, 255, 255, 0.05) 26%, transparent 27%, transparent 74%, rgba(255, 255, 255, 0.05) 75%, rgba(255, 255, 255, 0.05) 76%, transparent 77%, transparent);\n  background-size: 50px 50px;\n}\n\n.actions {\n  position: fixed;\n  top: 100px;\n  left: 100px;\n}"},262:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='\x3c!--<markdown ngPreserveWhitespaces [innerHTML]="rawMarkdown" class="markdown">--\x3e\n\x3c!--</markdown>--\x3e\n'},263:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=".markdown {\n  padding: 0 50px;\n  display: block;\n}"},271:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DefaultNodeFactory}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_components_default_node_default_node_component__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(163),_factories_node_factory__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(272),_models_default_node_model__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(136),DefaultNodeFactory=function(_super){function DefaultNodeFactory(resolver,renderer){var _this=_super.call(this,"default")||this;return _this.resolver=resolver,_this.renderer=renderer,_this}return tslib__WEBPACK_IMPORTED_MODULE_0__.c(DefaultNodeFactory,_super),DefaultNodeFactory.prototype.generateWidget=function(diagramEngine,node,nodesHost){var _this=this,componentRef=nodesHost.createComponent(this.getRecipe()),rootNode=componentRef.location.nativeElement;return this.renderer.setStyle(rootNode,"position","absolute"),this.renderer.setStyle(rootNode,"display","block"),this.renderer.setAttribute(rootNode,"data-nodeid",node.id),node.selectCoords().subscribe((function(_a){var x=_a.x,y=_a.y;_this.renderer.setStyle(rootNode,"left",x+"px"),_this.renderer.setStyle(rootNode,"top",y+"px")})),node.selectionChanges().subscribe((function(e){e.isSelected?_this.renderer.addClass(rootNode,"selected"):_this.renderer.removeClass(rootNode,"selected")})),node.onEntityDestroy().subscribe((function(){componentRef.destroy()})),Object.entries(node).forEach((function(_a){var key=_a[0],value=_a[1];componentRef.instance[key]=value})),componentRef.instance.diagramEngine=diagramEngine,componentRef},DefaultNodeFactory.prototype.getRecipe=function(){return this.resolver.resolveComponentFactory(_components_default_node_default_node_component__WEBPACK_IMPORTED_MODULE_1__.a)},DefaultNodeFactory.prototype.getNewInstance=function(initialConfig){return new(_models_default_node_model__WEBPACK_IMPORTED_MODULE_3__.a.bind.apply(_models_default_node_model__WEBPACK_IMPORTED_MODULE_3__.a,[void 0,"default"].concat(initialConfig)))},DefaultNodeFactory}(_factories_node_factory__WEBPACK_IMPORTED_MODULE_2__.a)},272:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return AbstractNodeFactory}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),AbstractNodeFactory=function(_super){function AbstractNodeFactory(){return null!==_super&&_super.apply(this,arguments)||this}return tslib__WEBPACK_IMPORTED_MODULE_0__.c(AbstractNodeFactory,_super),AbstractNodeFactory}(__webpack_require__(87).a)},273:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DefaultPortFactory}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_factories_port_factory__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(274),_models_default_port_model__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(107),_components_default_port_default_port_component__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(164),DefaultPortFactory=function(_super){function DefaultPortFactory(resolver,renderer){var _this=_super.call(this,"default")||this;return _this.resolver=resolver,_this.renderer=renderer,_this}return tslib__WEBPACK_IMPORTED_MODULE_0__.c(DefaultPortFactory,_super),DefaultPortFactory.prototype.generateWidget=function(port,portsHost){var componentRef=portsHost.createComponent(this.getRecipe()),rootNode=componentRef.location.nativeElement;return this.renderer.setAttribute(rootNode,"data-portid",port.id),this.renderer.setAttribute(rootNode,"data-name",port.getName()),port.in?this.renderer.addClass(rootNode,"in"):this.renderer.addClass(rootNode,"out"),Object.entries(port).forEach((function(_a){var key=_a[0],value=_a[1];componentRef.instance[key]=value})),port.onEntityDestroy().subscribe((function(){componentRef.destroy()})),componentRef},DefaultPortFactory.prototype.getRecipe=function(){return this.resolver.resolveComponentFactory(_components_default_port_default_port_component__WEBPACK_IMPORTED_MODULE_3__.a)},DefaultPortFactory.prototype.getNewInstance=function(initialConfig){return new _models_default_port_model__WEBPACK_IMPORTED_MODULE_2__.a(tslib__WEBPACK_IMPORTED_MODULE_0__.a({isInput:!0,name:"unknown"},initialConfig))},DefaultPortFactory}(_factories_port_factory__WEBPACK_IMPORTED_MODULE_1__.a)},274:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return AbstractPortFactory}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),AbstractPortFactory=function(_super){function AbstractPortFactory(){return null!==_super&&_super.apply(this,arguments)||this}return tslib__WEBPACK_IMPORTED_MODULE_0__.c(AbstractPortFactory,_super),AbstractPortFactory}(__webpack_require__(87).a)},275:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DefaultLinkFactory}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_factories_link_factory__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(276),_components_default_link_default_link_component__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(165),_models_default_link_model__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(121),DefaultLinkFactory=function(_super){function DefaultLinkFactory(resolver,renderer){var _this=_super.call(this,"default")||this;return _this.resolver=resolver,_this.renderer=renderer,_this}return tslib__WEBPACK_IMPORTED_MODULE_0__.c(DefaultLinkFactory,_super),DefaultLinkFactory.prototype.generateWidget=function(diagramEngine,link,linksHost){var componentRef=linksHost.createComponent(this.getRecipe()),rootNode=componentRef.location.nativeElement;return this.renderer.setStyle(rootNode,"position","absolute"),this.renderer.addClass(rootNode,"label"),this.renderer.setAttribute(rootNode,"data-linkid",link.id),link.onEntityDestroy().subscribe((function(){componentRef.destroy()})),Object.entries(link).forEach((function(_a){var key=_a[0],value=_a[1];componentRef.instance[key]=value})),componentRef.instance.diagramEngine=diagramEngine,componentRef},DefaultLinkFactory.prototype.getRecipe=function(){return this.resolver.resolveComponentFactory(_components_default_link_default_link_component__WEBPACK_IMPORTED_MODULE_2__.a)},DefaultLinkFactory.prototype.getNewInstance=function(){return new _models_default_link_model__WEBPACK_IMPORTED_MODULE_3__.a},DefaultLinkFactory}(_factories_link_factory__WEBPACK_IMPORTED_MODULE_1__.a)},276:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return AbstractLinkFactory}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),AbstractLinkFactory=function(_super){function AbstractLinkFactory(){return null!==_super&&_super.apply(this,arguments)||this}return tslib__WEBPACK_IMPORTED_MODULE_0__.c(AbstractLinkFactory,_super),AbstractLinkFactory}(__webpack_require__(87).a)},277:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return NgxDiagramsModule}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),_containers_diagram_diagram_component__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(194),_angular_common__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8),NgxDiagramsModule=function(){function NgxDiagramsModule(){}return NgxDiagramsModule=tslib__WEBPACK_IMPORTED_MODULE_0__.b([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule)({declarations:[_containers_diagram_diagram_component__WEBPACK_IMPORTED_MODULE_2__.a],imports:[_angular_common__WEBPACK_IMPORTED_MODULE_3__.a],providers:[],exports:[_containers_diagram_diagram_component__WEBPACK_IMPORTED_MODULE_2__.a],entryComponents:[]})],NgxDiagramsModule)}()},278:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DefaultLabelFactory}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_factories_label_factory__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(279),_components_default_label_default_label_component__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(166),_models_default_label_model__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(157),DefaultLabelFactory=function(_super){function DefaultLabelFactory(resolver,renderer){var _this=_super.call(this,"default")||this;return _this.resolver=resolver,_this.renderer=renderer,_this}return tslib__WEBPACK_IMPORTED_MODULE_0__.c(DefaultLabelFactory,_super),DefaultLabelFactory.prototype.generateWidget=function(label,labelHost){var componentRef=labelHost.createComponent(this.getRecipe()),rootNode=componentRef.location.nativeElement;return this.renderer.setStyle(rootNode,"position","absolute"),this.renderer.setAttribute(rootNode,"data-labelid",label.id),label.onEntityDestroy().subscribe((function(){componentRef.destroy()})),Object.entries(label).forEach((function(_a){var key=_a[0],value=_a[1];componentRef.instance[key]=value})),componentRef},DefaultLabelFactory.prototype.getRecipe=function(){return this.resolver.resolveComponentFactory(_components_default_label_default_label_component__WEBPACK_IMPORTED_MODULE_2__.a)},DefaultLabelFactory.prototype.getNewInstance=function(){return new _models_default_label_model__WEBPACK_IMPORTED_MODULE_3__.a},DefaultLabelFactory}(_factories_label_factory__WEBPACK_IMPORTED_MODULE_1__.a)},279:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return AbstractLabelFactory}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),AbstractLabelFactory=function(_super){function AbstractLabelFactory(){return null!==_super&&_super.apply(this,arguments)||this}return tslib__WEBPACK_IMPORTED_MODULE_0__.c(AbstractLabelFactory,_super),AbstractLabelFactory}(__webpack_require__(87).a)},280:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return LabelModel}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_base_model__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(56),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(14),rxjs_operators__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(33),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(36),LabelModel=function(_super){function LabelModel(type,id){var _this=_super.call(this,type,id)||this;return _this._coords=new rxjs__WEBPACK_IMPORTED_MODULE_2__.a({x:0,y:0}),_this.coords$=_this._coords.asObservable(),_this._rotation=new rxjs__WEBPACK_IMPORTED_MODULE_2__.a(0),_this.rotation$=_this._rotation.asObservable(),_this}return tslib__WEBPACK_IMPORTED_MODULE_0__.c(LabelModel,_super),LabelModel.prototype.destroy=function(options){_super.prototype.destroy.call(this,options)},LabelModel.prototype.setRotation=function(angle){this._rotation.next(angle)},LabelModel.prototype.selectRotation=function(){return this.rotation$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.a)(this.onEntityDestroy()),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.a)())},LabelModel.prototype.setCoords=function(newCoords){this._coords.next(tslib__WEBPACK_IMPORTED_MODULE_0__.a({},this._coords.getValue(),newCoords))},LabelModel.prototype.selectCoords=function(){return this.coords$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.a)(this.onEntityDestroy()),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.a)())},LabelModel}(_base_model__WEBPACK_IMPORTED_MODULE_1__.a)},281:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(56),__webpack_require__(135),__webpack_require__(105);var _move_selection_model__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(508);__webpack_require__.o(_move_selection_model__WEBPACK_IMPORTED_MODULE_3__,"AbstractLinkFactory")&&__webpack_require__.d(__webpack_exports__,"AbstractLinkFactory",(function(){return _move_selection_model__WEBPACK_IMPORTED_MODULE_3__.AbstractLinkFactory})),__webpack_require__.o(_move_selection_model__WEBPACK_IMPORTED_MODULE_3__,"MoveItemsAction")&&__webpack_require__.d(__webpack_exports__,"MoveItemsAction",(function(){return _move_selection_model__WEBPACK_IMPORTED_MODULE_3__.MoveItemsAction})),__webpack_require__.o(_move_selection_model__WEBPACK_IMPORTED_MODULE_3__,"PointModel")&&__webpack_require__.d(__webpack_exports__,"PointModel",(function(){return _move_selection_model__WEBPACK_IMPORTED_MODULE_3__.PointModel})),__webpack_require__.o(_move_selection_model__WEBPACK_IMPORTED_MODULE_3__,"generateCurvePath")&&__webpack_require__.d(__webpack_exports__,"generateCurvePath",(function(){return _move_selection_model__WEBPACK_IMPORTED_MODULE_3__.generateCurvePath}));__webpack_require__(91);var _point_model__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(46);__webpack_require__.d(__webpack_exports__,"PointModel",(function(){return _point_model__WEBPACK_IMPORTED_MODULE_5__.a}));__webpack_require__(106),__webpack_require__(280)},293:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return BaseEntity}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_utils_tool_kit_util__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(42),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(13),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(14),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(33),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(11),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(35),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(363),_interfaces_event_interface__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(108),BaseEntity=function(){function BaseEntity(id,logPrefix){void 0===logPrefix&&(logPrefix=""),this._destroyed=new rxjs__WEBPACK_IMPORTED_MODULE_2__.a,this._destroyed$=this._destroyed.asObservable(),this._locked=new rxjs__WEBPACK_IMPORTED_MODULE_3__.a(!1),this._locked$=this._locked.asObservable(),this._id=id||Object(_utils_tool_kit_util__WEBPACK_IMPORTED_MODULE_1__.b)(),this._logPrefix=""+logPrefix}return Object.defineProperty(BaseEntity.prototype,"id",{get:function(){return this._id},set:function(id){this._id=id},enumerable:!0,configurable:!0}),BaseEntity.prototype.log=function(message){for(var args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];_utils_tool_kit_util__WEBPACK_IMPORTED_MODULE_1__.d.apply(void 0,[this._logPrefix+" "+message+": ",_utils_tool_kit_util__WEBPACK_IMPORTED_MODULE_1__.a.LOG].concat(args))},BaseEntity.prototype.withLog=function(message){for(var args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];return _utils_tool_kit_util__WEBPACK_IMPORTED_MODULE_1__.f.apply(void 0,[this._logPrefix+" "+message+": ",_utils_tool_kit_util__WEBPACK_IMPORTED_MODULE_1__.a.LOG].concat(args))},BaseEntity.prototype.getLocked=function(){return this._locked.getValue()},BaseEntity.prototype.setLocked=function(locked){void 0===locked&&(locked=!0),this._locked.next(locked)},BaseEntity.prototype.doClone=function(lookupTable,clone){void 0===lookupTable&&(lookupTable={})},BaseEntity.prototype.clone=function(lookupTable){if(void 0===lookupTable&&(lookupTable={}),lookupTable[this.id])return lookupTable[this.id];var clone=tslib__WEBPACK_IMPORTED_MODULE_0__.a({},this);return clone.id=Object(_utils_tool_kit_util__WEBPACK_IMPORTED_MODULE_1__.b)(),lookupTable[this.id]=clone,this.doClone(lookupTable,clone),clone},BaseEntity.prototype.lockChanges=function(){var _this=this;return this._locked$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.a)(this.onEntityDestroy()),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.a)((function(locked){return new _interfaces_event_interface__WEBPACK_IMPORTED_MODULE_8__.b(_this,locked)})),this.withLog("lockChanges"))},BaseEntity.prototype.destroy=function(options){var defaultOptions=tslib__WEBPACK_IMPORTED_MODULE_0__.a({emit:!0,propagate:!0},options);this.log("entity destroyed"),this._destroyed.next(defaultOptions),this._destroyed.complete()},BaseEntity.prototype.onEntityDestroy=function(){return this._destroyed$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.a)((function(opts){return opts.emit})),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.a)(new _interfaces_event_interface__WEBPACK_IMPORTED_MODULE_8__.a(this)))},BaseEntity}()},32:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(194);var _lib_services_engine_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(507);__webpack_require__.d(__webpack_exports__,"DiagramEngine",(function(){return _lib_services_engine_service__WEBPACK_IMPORTED_MODULE_1__.a}));var _lib_ngx_diagrams_module__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(277);__webpack_require__.d(__webpack_exports__,"NgxDiagramsModule",(function(){return _lib_ngx_diagrams_module__WEBPACK_IMPORTED_MODULE_2__.a}));var _lib_defaults_index__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(542);__webpack_require__.d(__webpack_exports__,"DefaultLinkModel",(function(){return _lib_defaults_index__WEBPACK_IMPORTED_MODULE_3__.a})),__webpack_require__.d(__webpack_exports__,"DefaultNodeModel",(function(){return _lib_defaults_index__WEBPACK_IMPORTED_MODULE_3__.b}));var _lib_models__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(281);__webpack_require__.o(_lib_models__WEBPACK_IMPORTED_MODULE_4__,"AbstractLinkFactory")&&__webpack_require__.d(__webpack_exports__,"AbstractLinkFactory",(function(){return _lib_models__WEBPACK_IMPORTED_MODULE_4__.AbstractLinkFactory})),__webpack_require__.o(_lib_models__WEBPACK_IMPORTED_MODULE_4__,"MoveItemsAction")&&__webpack_require__.d(__webpack_exports__,"MoveItemsAction",(function(){return _lib_models__WEBPACK_IMPORTED_MODULE_4__.MoveItemsAction})),__webpack_require__.o(_lib_models__WEBPACK_IMPORTED_MODULE_4__,"generateCurvePath")&&__webpack_require__.d(__webpack_exports__,"generateCurvePath",(function(){return _lib_models__WEBPACK_IMPORTED_MODULE_4__.generateCurvePath}));var _lib_interfaces__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(509);__webpack_require__.o(_lib_interfaces__WEBPACK_IMPORTED_MODULE_5__,"AbstractLinkFactory")&&__webpack_require__.d(__webpack_exports__,"AbstractLinkFactory",(function(){return _lib_interfaces__WEBPACK_IMPORTED_MODULE_5__.AbstractLinkFactory})),__webpack_require__.o(_lib_interfaces__WEBPACK_IMPORTED_MODULE_5__,"MoveItemsAction")&&__webpack_require__.d(__webpack_exports__,"MoveItemsAction",(function(){return _lib_interfaces__WEBPACK_IMPORTED_MODULE_5__.MoveItemsAction})),__webpack_require__.o(_lib_interfaces__WEBPACK_IMPORTED_MODULE_5__,"generateCurvePath")&&__webpack_require__.d(__webpack_exports__,"generateCurvePath",(function(){return _lib_interfaces__WEBPACK_IMPORTED_MODULE_5__.generateCurvePath}));var _lib_factories__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(512);__webpack_require__.d(__webpack_exports__,"AbstractLinkFactory",(function(){return _lib_factories__WEBPACK_IMPORTED_MODULE_6__.a}));var _lib_actions__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(110);__webpack_require__.d(__webpack_exports__,"MoveItemsAction",(function(){return _lib_actions__WEBPACK_IMPORTED_MODULE_7__.c}));var _lib_utils__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(543);__webpack_require__.d(__webpack_exports__,"generateCurvePath",(function(){return _lib_utils__WEBPACK_IMPORTED_MODULE_8__.a}));var _lib_services_dagre_engine_service__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(354);__webpack_require__.d(__webpack_exports__,"DagreEngine",(function(){return _lib_services_dagre_engine_service__WEBPACK_IMPORTED_MODULE_9__.a}))},354:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DagreEngine}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),_models__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(281),dagre__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(365),DagreEngine=function(){function DagreEngine(){}return DagreEngine.prototype.redistribute=function(model,options){void 0===options&&(options={});var g=new dagre__WEBPACK_IMPORTED_MODULE_3__.graphlib.Graph({multigraph:!0});g.setGraph(options.graph||{}),g.setDefaultEdgeLabel((function(){return{}}));var processedlinks={};Object.values(model.getNodes()).forEach((function(node){g.setNode(node.id,{width:node.getWidth(),height:node.getHeight()})})),Object.values(model.getLinks()).forEach((function(link){link.getSourcePort()&&link.getTargetPort()&&(processedlinks[link.id]=!0,g.setEdge({v:link.getSourcePort().getNode().id,w:link.getTargetPort().getNode().id,name:link.id}))})),dagre__WEBPACK_IMPORTED_MODULE_3__.layout(g,options.layout),g.nodes().forEach((function(v){var _a=g.node(v),x=_a.x,y=_a.y;model.getNode(v).setCoords({x:x,y:y})})),options.includeLinks&&g.edges().forEach((function(e){for(var edge=g.edge(e),link=model.getLink(e.name),points=[link.getFirstPoint()],i=1;i<edge.points.length-2;i++)points.push(new _models__WEBPACK_IMPORTED_MODULE_2__.PointModel(link,{x:edge.points[i].x,y:edge.points[i].y}));link.setPoints(points.concat(link.getLastPoint()))}))},DagreEngine=tslib__WEBPACK_IMPORTED_MODULE_0__.b([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable)(),tslib__WEBPACK_IMPORTED_MODULE_0__.d("design:paramtypes",[])],DagreEngine)}()},42:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return LOG_LEVEL})),__webpack_require__.d(__webpack_exports__,"d",(function(){return log})),__webpack_require__.d(__webpack_exports__,"f",(function(){return withLog})),__webpack_require__.d(__webpack_exports__,"b",(function(){return UID})),__webpack_require__.d(__webpack_exports__,"e",(function(){return mapToArray})),__webpack_require__.d(__webpack_exports__,"c",(function(){return generateCurvePath}));var LOG_LEVEL,rxjs_operators__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(364);!function(LOG_LEVEL){LOG_LEVEL[LOG_LEVEL.LOG=0]="LOG",LOG_LEVEL[LOG_LEVEL.ERROR=1]="ERROR"}(LOG_LEVEL||(LOG_LEVEL={}));var __DEV__=!0,__LOG__=LOG_LEVEL.ERROR;function isDev(){return __DEV__}function log(message,level){void 0===level&&(level=LOG_LEVEL.LOG);for(var args=[],_i=2;_i<arguments.length;_i++)args[_i-2]=arguments[_i];isDev()&&__LOG__===level&&(__LOG__===LOG_LEVEL.ERROR&&console.error.apply(console,[message].concat(args)),console.log.apply(console,[message].concat(args)))}function withLog(message,level){void 0===level&&(level=LOG_LEVEL.LOG);for(var args=[],_i=2;_i<arguments.length;_i++)args[_i-2]=arguments[_i];return function(source){return isDev()?source.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_0__.a)((function(val){return log.apply(void 0,[message,level,val].concat(args))}))):source}}function UID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(c){var r=16*Math.random()|0;return("x"===c?r:3&r|8).toString(16)}))}function isNil(v){return null==v}function mapToArray(map){var result=[];for(var key in map)isNil(map[key])||result.push(map[key]);return result}function generateCurvePath(firstPoint,lastPoint,curvy){void 0===curvy&&(curvy=0);var isHorizontal=Math.abs(firstPoint.x-lastPoint.x)>Math.abs(firstPoint.y-lastPoint.y),curvyX=isHorizontal?curvy:0,curvyY=isHorizontal?0:curvy;return"M"+firstPoint.x+","+firstPoint.y+" C "+(firstPoint.x+curvyX)+","+(firstPoint.y+curvyY)+"\n    "+(lastPoint.x-curvyX)+","+(lastPoint.y-curvyY)+" "+lastPoint.x+","+lastPoint.y}},46:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return PointModel}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_base_model__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(56),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(14),rxjs_operators__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(33),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(36),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(11),PointModel=function(_super){function PointModel(link,_a){var x=_a.x,y=_a.y,_this=_super.call(this)||this;return _this._coords=new rxjs__WEBPACK_IMPORTED_MODULE_2__.a({x:x,y:y}),_this.coords$=_this._coords.asObservable(),_this.setParent(link),_this}return tslib__WEBPACK_IMPORTED_MODULE_0__.c(PointModel,_super),PointModel.prototype.isConnectedToPort=function(){return null!==this.getParent().getPortForPoint(this)},PointModel.prototype.getLink=function(){return this.getParent()},PointModel.prototype.destroy=function(options){this.getParent&&this.getParent().removePoint(this),_super.prototype.destroy.call(this,options)},PointModel.prototype.setCoords=function(newCoords){this._coords.next(tslib__WEBPACK_IMPORTED_MODULE_0__.a({},this._coords.getValue(),newCoords))},PointModel.prototype.selectCoords=function(){return this.coords$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.a)(this.onEntityDestroy()),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.a)())},PointModel.prototype.getCoords=function(){return this._coords.getValue()},PointModel.prototype.selectX=function(){return this.selectCoords().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.a)((function(c){return c.x})),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.a)())},PointModel.prototype.selectY=function(){return this.selectCoords().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.a)((function(c){return c.y})),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.a)())},PointModel}(_base_model__WEBPACK_IMPORTED_MODULE_1__.a)},499:function(module,exports){function webpackEmptyAsyncContext(req){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}))}webpackEmptyAsyncContext.keys=function(){return[]},webpackEmptyAsyncContext.resolve=webpackEmptyAsyncContext,module.exports=webpackEmptyAsyncContext,webpackEmptyAsyncContext.id=499},507:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DiagramEngine}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),_models_diagram_model__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(135),_defaults_factories_default_node_factory__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(271),_defaults_factories_default_port_factory__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(273),rxjs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(14),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(35),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(134),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(362),_defaults_factories_default_link_factory__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(275),_ngx_diagrams_module__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(277),_defaults_factories_default_label_factory__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(278),DiagramEngine=function(){function DiagramEngine(resolver,rendererFactory){this.resolver=resolver,this.rendererFactory=rendererFactory,this._renderer=this.rendererFactory.createRenderer(null,null),this.nodeFactories={},this.linkFactories={},this.portFactories={},this.labelFactories={},this.canvas$=new rxjs__WEBPACK_IMPORTED_MODULE_5__.a(null)}var _a,_b;return DiagramEngine.prototype.createDiagram=function(){return this.diagramModel=new _models_diagram_model__WEBPACK_IMPORTED_MODULE_2__.a(this),this.diagramModel},DiagramEngine.prototype.registerDefaultFactories=function(){this.registerNodeFactory(new _defaults_factories_default_node_factory__WEBPACK_IMPORTED_MODULE_3__.a(this.resolver,this._renderer)),this.registerPortFactory(new _defaults_factories_default_port_factory__WEBPACK_IMPORTED_MODULE_4__.a(this.resolver,this._renderer)),this.registerLinkFactory(new _defaults_factories_default_link_factory__WEBPACK_IMPORTED_MODULE_9__.a(this.resolver,this._renderer)),this.registerLabelFactory(new _defaults_factories_default_label_factory__WEBPACK_IMPORTED_MODULE_11__.a(this.resolver,this._renderer))},DiagramEngine.prototype.registerLabelFactory=function(labelFactory){this.labelFactories[labelFactory.type]=labelFactory},DiagramEngine.prototype.getLabelFactories=function(){return this.labelFactories},DiagramEngine.prototype.getLabelFactory=function(type){if(this.labelFactories[type])return this.labelFactories[type];throw new Error("cannot find factory for node of type: ["+type+"]")},DiagramEngine.prototype.getFactoryForLabel=function(label){return this.getLabelFactory(label.getType())},DiagramEngine.prototype.generateWidgetForLabel=function(label,labelHost){var labelFactory=this.getFactoryForLabel(label);if(!labelFactory)throw new Error("Cannot find widget factory for node: "+label.getType());return labelFactory.generateWidget(label,labelHost)},DiagramEngine.prototype.registerNodeFactory=function(nodeFactory){this.nodeFactories[nodeFactory.type]=nodeFactory},DiagramEngine.prototype.getNodeFactories=function(){return this.nodeFactories},DiagramEngine.prototype.getNodeFactory=function(type){if(this.nodeFactories[type])return this.nodeFactories[type];throw new Error("cannot find factory for node of type: ["+type+"]")},DiagramEngine.prototype.getFactoryForNode=function(node){return this.getNodeFactory(node.getType())},DiagramEngine.prototype.generateWidgetForNode=function(node,nodesHost){var nodeFactory=this.getFactoryForNode(node);if(!nodeFactory)throw new Error("Cannot find widget factory for node: "+node.getType());return nodeFactory.generateWidget(this,node,nodesHost)},DiagramEngine.prototype.registerPortFactory=function(factory){this.portFactories[factory.type]=factory},DiagramEngine.prototype.getPortFactories=function(){return this.portFactories},DiagramEngine.prototype.getPortFactory=function(type){if(this.portFactories[type])return this.portFactories[type];throw new Error("cannot find factory for port of type: ["+type+"]")},DiagramEngine.prototype.getFactoryForPort=function(port){return this.getPortFactory(port.getType())},DiagramEngine.prototype.generateWidgetForPort=function(port,portsHost){var portFactory=this.getFactoryForPort(port);if(!portFactory)throw new Error("Cannot find widget factory for port: "+port.getType());return portFactory.generateWidget(port,portsHost)},DiagramEngine.prototype.getLinkFactories=function(){return this.linkFactories},DiagramEngine.prototype.registerLinkFactory=function(factory){this.linkFactories[factory.type]=factory},DiagramEngine.prototype.getLinkFactory=function(type){if(this.linkFactories[type])return this.linkFactories[type];throw new Error("cannot find factory for link of type: ["+type+"]")},DiagramEngine.prototype.getFactoryForLink=function(link){return this.getLinkFactory(link.getType())},DiagramEngine.prototype.generateWidgetForLink=function(link,linksHost){var linkFactory=this.getFactoryForLink(link);if(!linkFactory)throw new Error("Cannot find link factory for link: "+link.getType());return linkFactory.generateWidget(this,link,linksHost)},DiagramEngine.prototype.getNodeElement=function(node){var selector=this.canvas$.getValue().querySelector('[data-nodeid="'+node.id+'"]');if(null===selector)throw new Error("Cannot find Node element with node id: ["+node.id+"]");return selector},DiagramEngine.prototype.getNodePortElement=function(port){var selector=this.canvas$.getValue().querySelector('[data-nodeid="'+port.getParent().id+'"] [data-portid="'+port.id+'"]');if(null===selector)throw new Error("Cannot find Node Port element with node id: ["+port.getParent().id+"] and port id: ["+port.id+"]");return selector},DiagramEngine.prototype.getPortCenter=function(port){var sourceElement=this.getNodePortElement(port),sourceRect=sourceElement.getBoundingClientRect(),rel=this.getRelativePoint(sourceRect.left,sourceRect.top);return{x:sourceElement.offsetWidth/2+(rel.x-this.diagramModel.getOffsetX())/(this.diagramModel.getZoomLevel()/100),y:sourceElement.offsetHeight/2+(rel.y-this.diagramModel.getOffsetY())/(this.diagramModel.getZoomLevel()/100)}},DiagramEngine.prototype.getPortCoords=function(port){var sourceRect=this.getNodePortElement(port).getBoundingClientRect(),canvasRect=this.canvas$.getValue().getBoundingClientRect();return{x:(sourceRect.x-this.diagramModel.getOffsetX())/(this.diagramModel.getZoomLevel()/100)-canvasRect.left,y:(sourceRect.y-this.diagramModel.getOffsetY())/(this.diagramModel.getZoomLevel()/100)-canvasRect.top,width:sourceRect.width,height:sourceRect.height}},DiagramEngine.prototype.getNodeDimensions=function(node){if(!this.canvas$.getValue())return{width:0,height:0};var nodeRect=this.getNodeElement(node).getBoundingClientRect();return{width:nodeRect.width,height:nodeRect.height}},DiagramEngine.prototype.setCanvas=function(canvas){this.canvas$.next(canvas)},DiagramEngine.prototype.getRelativeMousePoint=function(event){var point=this.getRelativePoint(event.clientX,event.clientY);return{x:(point.x-this.diagramModel.getOffsetX())/(this.diagramModel.getZoomLevel()/100),y:(point.y-this.diagramModel.getOffsetY())/(this.diagramModel.getZoomLevel()/100)}},DiagramEngine.prototype.getRelativePoint=function(x,y){var canvasRect=this.canvas$.getValue().getBoundingClientRect();return{x:x-canvasRect.left,y:y-canvasRect.top}},DiagramEngine.prototype.getDiagramModel=function(){return this.diagramModel},DiagramEngine.prototype.isModelLocked=function(model){return!!this.diagramModel.getLocked()||model.getLocked()},DiagramEngine.prototype.autoArrange=function(){},DiagramEngine.prototype.zoomToFit=function(additionalZoomFactor){var _this=this;void 0===additionalZoomFactor&&(additionalZoomFactor=.005),this.canvas$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.a)(Boolean),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.a)(1),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.a)(0)).subscribe((function(canvas){var xFactor=canvas.clientWidth/canvas.scrollWidth,yFactor=canvas.clientHeight/canvas.scrollHeight,zoomFactor=xFactor<yFactor?xFactor:yFactor;_this.diagramModel.setZoomLevel(_this.diagramModel.getZoomLevel()*(zoomFactor-additionalZoomFactor)),_this.diagramModel.setOffset(0,0)}))},DiagramEngine=tslib__WEBPACK_IMPORTED_MODULE_0__.b([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable)({providedIn:_ngx_diagrams_module__WEBPACK_IMPORTED_MODULE_10__.a}),tslib__WEBPACK_IMPORTED_MODULE_0__.d("design:paramtypes",["function"==typeof(_a=void 0!==_angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentFactoryResolver&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentFactoryResolver)?_a:Object,"function"==typeof(_b=void 0!==_angular_core__WEBPACK_IMPORTED_MODULE_1__.RendererFactory2&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.RendererFactory2)?_b:Object])],DiagramEngine)}()},508:function(module,exports){},509:function(module,__webpack_exports__,__webpack_require__){"use strict";var _coords_interface__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(510);__webpack_require__.o(_coords_interface__WEBPACK_IMPORTED_MODULE_0__,"AbstractLinkFactory")&&__webpack_require__.d(__webpack_exports__,"AbstractLinkFactory",(function(){return _coords_interface__WEBPACK_IMPORTED_MODULE_0__.AbstractLinkFactory})),__webpack_require__.o(_coords_interface__WEBPACK_IMPORTED_MODULE_0__,"MoveItemsAction")&&__webpack_require__.d(__webpack_exports__,"MoveItemsAction",(function(){return _coords_interface__WEBPACK_IMPORTED_MODULE_0__.MoveItemsAction})),__webpack_require__.o(_coords_interface__WEBPACK_IMPORTED_MODULE_0__,"generateCurvePath")&&__webpack_require__.d(__webpack_exports__,"generateCurvePath",(function(){return _coords_interface__WEBPACK_IMPORTED_MODULE_0__.generateCurvePath}));var _dimensions_interface__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(511);__webpack_require__.o(_dimensions_interface__WEBPACK_IMPORTED_MODULE_1__,"AbstractLinkFactory")&&__webpack_require__.d(__webpack_exports__,"AbstractLinkFactory",(function(){return _dimensions_interface__WEBPACK_IMPORTED_MODULE_1__.AbstractLinkFactory})),__webpack_require__.o(_dimensions_interface__WEBPACK_IMPORTED_MODULE_1__,"MoveItemsAction")&&__webpack_require__.d(__webpack_exports__,"MoveItemsAction",(function(){return _dimensions_interface__WEBPACK_IMPORTED_MODULE_1__.MoveItemsAction})),__webpack_require__.o(_dimensions_interface__WEBPACK_IMPORTED_MODULE_1__,"generateCurvePath")&&__webpack_require__.d(__webpack_exports__,"generateCurvePath",(function(){return _dimensions_interface__WEBPACK_IMPORTED_MODULE_1__.generateCurvePath}));__webpack_require__(108)},510:function(module,exports){},511:function(module,exports){},512:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(87);var _link_factory__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(276);__webpack_require__.d(__webpack_exports__,"a",(function(){return _link_factory__WEBPACK_IMPORTED_MODULE_1__.a}));__webpack_require__(274),__webpack_require__(272),__webpack_require__(279)},542:function(module,__webpack_exports__,__webpack_require__){"use strict";var tslib_es6=__webpack_require__(0),core=__webpack_require__(1),common=__webpack_require__(8),default_link_component=__webpack_require__(165),default_node_component=(function(){function DefaultLinkModule(){}DefaultLinkModule=tslib_es6.b([Object(core.NgModule)({declarations:[default_link_component.a],imports:[common.a],providers:[],exports:[default_link_component.a],entryComponents:[default_link_component.a]})],DefaultLinkModule)}(),__webpack_require__(163)),default_port_component=(function(){function DefaultNodeModule(){}DefaultNodeModule=tslib_es6.b([Object(core.NgModule)({declarations:[default_node_component.a],imports:[common.a],providers:[],exports:[default_node_component.a],entryComponents:[default_node_component.a]})],DefaultNodeModule)}(),__webpack_require__(164)),default_label_component=(function(){function DefaultPortModule(){}DefaultPortModule=tslib_es6.b([Object(core.NgModule)({declarations:[default_port_component.a],imports:[common.a],providers:[],exports:[default_port_component.a],entryComponents:[default_port_component.a]})],DefaultPortModule)}(),__webpack_require__(166)),default_link_model=(function(){function DefaultLabelModule(){}DefaultLabelModule=tslib_es6.b([Object(core.NgModule)({declarations:[default_label_component.a],imports:[common.a],providers:[],exports:[default_label_component.a],entryComponents:[default_label_component.a]})],DefaultLabelModule)}(),__webpack_require__(121)),default_node_model=__webpack_require__(136);__webpack_require__(107),__webpack_require__(157),__webpack_require__(275),__webpack_require__(273),__webpack_require__(271),__webpack_require__(278);__webpack_require__.d(__webpack_exports__,"a",(function(){return default_link_model.a})),__webpack_require__.d(__webpack_exports__,"b",(function(){return default_node_model.a}))},543:function(module,__webpack_exports__,__webpack_require__){"use strict";var tool_kit_util=__webpack_require__(42);__webpack_require__.d(__webpack_exports__,"a",(function(){return tool_kit_util.c}))},548:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return MarkdownWrapperComponent}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),MarkdownWrapperComponent=function(){function MarkdownWrapperComponent(){}return tslib__WEBPACK_IMPORTED_MODULE_0__.b([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),tslib__WEBPACK_IMPORTED_MODULE_0__.d("design:type",String)],MarkdownWrapperComponent.prototype,"rawMarkdown",void 0),MarkdownWrapperComponent=tslib__WEBPACK_IMPORTED_MODULE_0__.b([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({selector:"app-markdown-wrapper",template:(__webpack_require__(262).default||__webpack_require__(262)).length?__webpack_require__(262).default||__webpack_require__(262):"",styles:[(__webpack_require__(263).default||__webpack_require__(263)).length?__webpack_require__(263).default||__webpack_require__(263):""]}),tslib__WEBPACK_IMPORTED_MODULE_0__.d("design:paramtypes",[])],MarkdownWrapperComponent)}()},549:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="# ngx-diagrams (WIP)\n___\n\n[![Commitizen friendly](https://img.shields.io/badge/commitizen-friendly-brightgreen.svg)](http://commitizen.github.io/cz-cli/)\n[![semantic-release](https://img.shields.io/badge/%20%20%F0%9F%93%A6%F0%9F%9A%80-semantic--release-e10079.svg)](https://github.com/semantic-release/semantic-release)\n[![Build Status](https://travis-ci.com/DanielNetzer/ngx-diagrams.svg?branch=master)](https://travis-ci.com/DanielNetzer/ngx-diagrams)\n[![Gitter](https://badges.gitter.im/ngx-diagrams/community.svg)](https://gitter.im/ngx-diagrams/community?utm_source=badge&utm_medium=badge&utm_campaign=pr-badge)\n\n***Light weight, modular, typed diagram engine for angular inspired by react-storm-diagrams.***\n\nCheck out our [stories](https://danielnetzer.github.io/ngx-diagrams)\n\n# Getting Started\n___\n\n### Installation\n\n```bash\nnpm i ngx-diagrams\n```\n\n### Setup\n- Import the library module.\n  \n`app.module.ts`\n\n```javascript\nimport { NgxDiagramsModule } from 'ngx-diagrams';\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule,\n    NgxDiagramsModule\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n```\n\n- instantiate new DiagramModel in the component you want to add the diagram canvas (e.g. app.component.ts), and start adding nodes, links, ports and work with the diagram.\n  \n    `app.component.ts`\n\n```javascript\n diagramModel = new DiagramModel();\n\n  constructor() { }\n\n  ngOnInit() {\n    const newNode = this.diagramModel.addNode('test', 200, 300);\n    newNode.addPort('test', 'out');\n  }\n```"},550:function(module,__webpack_exports__,__webpack_require__){"use strict";var tslib_es6=__webpack_require__(0),core=__webpack_require__(1),public_api=__webpack_require__(32),BehaviorSubject=__webpack_require__(14),combineLatest=__webpack_require__(123),takeUntil=__webpack_require__(33),filter=__webpack_require__(35),custom_link_component_CustomLinkComponent=function(_super){function CustomLinkComponent(cdRef){var _this=_super.call(this,"custom-link")||this;return _this.cdRef=cdRef,_this._path$=new BehaviorSubject.a(null),_this.path$=_this._path$.asObservable(),_this.points$=new BehaviorSubject.a([]),_this}var _a,_b;return tslib_es6.c(CustomLinkComponent,_super),CustomLinkComponent.prototype.ngAfterViewInit=function(){var _this=this,firstPCoords$=this.getFirstPoint().selectCoords(),lastPCoords$=this.getLastPoint().selectCoords();Object(combineLatest.b)([firstPCoords$,lastPCoords$]).pipe(Object(takeUntil.a)(this.onEntityDestroy())).subscribe((function(_a){var firstPCoords=_a[0],lastPCoords=_a[1],points=[firstPCoords,lastPCoords],xOrY=Math.abs(firstPCoords.x-lastPCoords.x)>Math.abs(firstPCoords.y-lastPCoords.y)?"x":"y",isStraight=!1;Math.abs(points[0][xOrY]-points[1][xOrY])<50&&(isStraight=!0);var path=Object(public_api.generateCurvePath)(firstPCoords,lastPCoords,isStraight?0:_this.curvyness);if(_this._path$.next(path),!_this.getTargetPort()){var danglingPoint=_this.generatePoint(lastPCoords);_this.points$.next([danglingPoint])}var label=_this.getLabel();label&&label.setCoords(_this.calcCenterOfPath(firstPCoords,lastPCoords)),_this.cdRef.detectChanges()})),this.selectLabel().pipe(Object(filter.a)(Boolean)).subscribe((function(label){_this.diagramEngine.generateWidgetForLabel(label,_this.labelLayer),_this.cdRef.detectChanges()}))},CustomLinkComponent.prototype.calcLabelIncline=function(firstPoint,secondPoint){var dy=secondPoint.y-firstPoint.y,dx=secondPoint.x-firstPoint.x;if(0===dx)return 0;var inclineAngel=180*Math.atan(dy/dx)/Math.PI;return inclineAngel<0&&(inclineAngel+=180),inclineAngel},CustomLinkComponent.prototype.calcCenterOfPath=function(firstPoint,secondPoint){return{x:(firstPoint.x+secondPoint.x)/2+20,y:(firstPoint.y+secondPoint.y)/2+20}},tslib_es6.b([Object(core.ViewChild)("labelLayer",{read:core.ViewContainerRef,static:!0}),tslib_es6.d("design:type","function"==typeof(_a=void 0!==core.ViewContainerRef&&core.ViewContainerRef)?_a:Object)],CustomLinkComponent.prototype,"labelLayer",void 0),CustomLinkComponent=tslib_es6.b([Object(core.Component)({selector:"app-custom-link",template:(__webpack_require__(258).default||__webpack_require__(258)).length?__webpack_require__(258).default||__webpack_require__(258):"",styles:[(__webpack_require__(259).default||__webpack_require__(259)).length?__webpack_require__(259).default||__webpack_require__(259):""]}),tslib_es6.d("design:paramtypes",["function"==typeof(_b=void 0!==core.ChangeDetectorRef&&core.ChangeDetectorRef)?_b:Object])],CustomLinkComponent)}(public_api.DefaultLinkModel),custom_link_factory_CustomLinkFactory=function(_super){function CustomLinkFactory(resolver,renderer){var _this=_super.call(this,"custom")||this;return _this.resolver=resolver,_this.renderer=renderer,_this}return tslib_es6.c(CustomLinkFactory,_super),CustomLinkFactory.prototype.generateWidget=function(diagramEngine,link,linksHost){var componentRef=linksHost.createComponent(this.getRecipe()),rootNode=componentRef.location.nativeElement;return this.renderer.setStyle(rootNode,"position","absolute"),this.renderer.setAttribute(rootNode,"data-linkid",link.id),link.onEntityDestroy().subscribe((function(){componentRef.destroy()})),Object.entries(link).forEach((function(_a){var key=_a[0],value=_a[1];componentRef.instance[key]=value})),componentRef.instance.diagramEngine=diagramEngine,componentRef},CustomLinkFactory.prototype.getRecipe=function(){return this.resolver.resolveComponentFactory(custom_link_component_CustomLinkComponent)},CustomLinkFactory.prototype.getNewInstance=function(){return new public_api.DefaultLinkModel("intent-link")},CustomLinkFactory}(public_api.AbstractLinkFactory);__webpack_require__.d(__webpack_exports__,"a",(function(){return app_component_AppComponent}));var app_component_AppComponent=function(){function AppComponent(diagramEngine,resolver,renderer,dagreEngine){this.diagramEngine=diagramEngine,this.resolver=resolver,this.renderer=renderer,this.dagreEngine=dagreEngine,this.title="playground"}var _a,_b,_c,_d;return AppComponent.prototype.ngOnInit=function(){var nodesDefaultDimensions={height:200,width:200};this.diagramEngine.registerDefaultFactories(),this.diagramEngine.registerLinkFactory(new custom_link_factory_CustomLinkFactory(this.resolver,this.renderer)),this.diagramModel=this.diagramEngine.createDiagram();var node1=new public_api.DefaultNodeModel;node1.setCoords({x:500,y:300}),node1.setDimensions(nodesDefaultDimensions),node1.addInPort({name:"inport",linkType:"custom"});var node2=new public_api.DefaultNodeModel;node2.setCoords({x:200,y:200}),node2.setDimensions(nodesDefaultDimensions);var outPortN2=node2.addOutPort({name:"outport"});outPortN2.setMaximumLinks(1);var node3=new public_api.DefaultNodeModel;node3.setCoords({x:400,y:600}),node3.setDimensions(nodesDefaultDimensions),node3.addInPort({name:"inport",linkType:"custom"});var node4=new public_api.DefaultNodeModel;node4.setCoords({x:1200,y:200}),node4.setDimensions(nodesDefaultDimensions);var p4=node4.addInPort({name:"inport",linkType:"custom"}),link2=new public_api.DefaultLinkModel("custom");link2.setSourcePort(outPortN2),link2.setTargetPort(p4),this.diagramModel.addAll(node1,node2,node3,node4,link2),this.diagramModel.getDiagramEngine().zoomToFit()},AppComponent.prototype.redistribute=function(){this.dagreEngine.redistribute(this.diagramModel,{includeLinks:!0,graph:{rankdir:"LR"}})},AppComponent.prototype.onActionStarted=function(action){action instanceof public_api.MoveItemsAction&&console.log(action)},AppComponent=tslib_es6.b([Object(core.Component)({selector:"app-root",template:(__webpack_require__(260).default||__webpack_require__(260)).length?__webpack_require__(260).default||__webpack_require__(260):"",styles:[(__webpack_require__(261).default||__webpack_require__(261)).length?__webpack_require__(261).default||__webpack_require__(261):""]}),tslib_es6.d("design:paramtypes",["function"==typeof(_a=void 0!==public_api.DiagramEngine&&public_api.DiagramEngine)?_a:Object,"function"==typeof(_b=void 0!==core.ComponentFactoryResolver&&core.ComponentFactoryResolver)?_b:Object,"function"==typeof(_c=void 0!==core.Renderer2&&core.Renderer2)?_c:Object,"function"==typeof(_d=void 0!==public_api.DagreEngine&&public_api.DagreEngine)?_d:Object])],AppComponent)}()},552:function(module,exports,__webpack_require__){__webpack_require__(553),__webpack_require__(664),__webpack_require__(665),module.exports=__webpack_require__(1025)},56:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return BaseModel}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_base_entity__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(293),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(14),rxjs_operators__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(33),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(11),_interfaces_event_interface__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(108),BaseModel=function(_super){function BaseModel(type,id,logPrefix){void 0===logPrefix&&(logPrefix="[Base]");var _this=_super.call(this,id,logPrefix)||this;return _this._parent=new rxjs__WEBPACK_IMPORTED_MODULE_2__.a(null),_this._parent$=_this._parent.asObservable(),_this._selected=new rxjs__WEBPACK_IMPORTED_MODULE_2__.a(!1),_this._selected$=_this._selected.asObservable(),_this._painted=new rxjs__WEBPACK_IMPORTED_MODULE_2__.a(!1),_this._painted$=_this._painted.asObservable(),_this._type=type,_this}return tslib__WEBPACK_IMPORTED_MODULE_0__.c(BaseModel,_super),BaseModel.prototype.getParent=function(){return this._parent.getValue()},BaseModel.prototype.setParent=function(parent){this._parent.next(parent)},BaseModel.prototype.parentChanges=function(){var _this=this;return this._parent$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.a)(this.onEntityDestroy()),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.a)((function(p){return new _interfaces_event_interface__WEBPACK_IMPORTED_MODULE_5__.d(_this,p)})))},BaseModel.prototype.getPainted=function(){return this._painted.getValue()},BaseModel.prototype.setPainted=function(painted){void 0===painted&&(painted=!0),this._painted.next(painted)},BaseModel.prototype.paintChanges=function(){var _this=this;return this._painted$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.a)(this.onEntityDestroy()),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.a)((function(p){return new _interfaces_event_interface__WEBPACK_IMPORTED_MODULE_5__.c(_this,p)})))},BaseModel.prototype.getType=function(){return this._type},BaseModel.prototype.getSelected=function(){return this._selected.getValue()},BaseModel.prototype.selectSelected=function(){return this._selected.asObservable()},BaseModel.prototype.setSelected=function(selected){void 0===selected&&(selected=!0),this._selected.next(selected)},BaseModel.prototype.selectionChanges=function(){var _this=this;return this._selected$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.a)(this.onEntityDestroy()),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.a)((function(s){return new _interfaces_event_interface__WEBPACK_IMPORTED_MODULE_5__.e(_this,s)})),this.withLog("selectionChanges"))},BaseModel.prototype.getSelectedEntities=function(){return this._selected.value?[this]:[]},BaseModel}(_base_entity__WEBPACK_IMPORTED_MODULE_1__.a)},574:function(module,exports){},665:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_angular__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(124),_storybook_theming__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(544),theme=Object(_storybook_theming__WEBPACK_IMPORTED_MODULE_1__.create)({base:"light",brandTitle:"NGX-Diagrams",brandImage:"/icon.png"});Object(_storybook_angular__WEBPACK_IMPORTED_MODULE_0__.addParameters)({options:{showPanel:!1,theme:theme}}),Object(_storybook_angular__WEBPACK_IMPORTED_MODULE_0__.configure)((function loadStories(){__webpack_require__(913)}),module)}.call(this,__webpack_require__(410)(module))},86:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return BaseAction}));var BaseAction=function BaseAction(mouseX,mouseY){this.mouseX=mouseX,this.mouseY=mouseY,this.ms=(new Date).getTime()}},87:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return AbstractFactory}));var AbstractFactory=function(){function AbstractFactory(name){this._type=name}return Object.defineProperty(AbstractFactory.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),AbstractFactory}()},91:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return NodeModel}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),rxjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(14),_base_model__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(56),rxjs_operators__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(33),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(36),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(11),_utils_tool_kit_util__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(42),NodeModel=function(_super){function NodeModel(nodeType,id,extras,x,y,width,height,logPrefix){void 0===nodeType&&(nodeType="default"),void 0===extras&&(extras={}),void 0===x&&(x=0),void 0===y&&(y=0),void 0===width&&(width=0),void 0===height&&(height=0),void 0===logPrefix&&(logPrefix="[Node]");var _this=_super.call(this,nodeType,id,logPrefix)||this;return _this._extras=new rxjs__WEBPACK_IMPORTED_MODULE_1__.a(extras),_this._ports=new rxjs__WEBPACK_IMPORTED_MODULE_1__.a({}),_this._dimensions=new rxjs__WEBPACK_IMPORTED_MODULE_1__.a({width:width,height:height}),_this._coords=new rxjs__WEBPACK_IMPORTED_MODULE_1__.a({x:x,y:y}),_this.extras$=_this._extras.asObservable(),_this.ports$=_this._ports.asObservable(),_this.coords$=_this._coords.asObservable(),_this.dimensions$=_this._dimensions.asObservable(),_this}return tslib__WEBPACK_IMPORTED_MODULE_0__.c(NodeModel,_super),NodeModel.prototype.getCoords=function(){return this._coords.getValue()},NodeModel.prototype.setCoords=function(_a){var x=_a.x,y=_a.y,_b=this.getCoords(),oldX=_b.x,oldY=_b.y;Object.values(this._ports.getValue()).forEach((function(port){Object.values(port.getLinks()).forEach((function(link){var point=link.getPointForPort(port),_a=point.getCoords(),pointX=_a.x,pointY=_a.y;point.setCoords({x:pointX+x-oldX,y:pointY+y-oldY})}))})),this._coords.next({x:x,y:y})},NodeModel.prototype.transitionToCoords=function(_a){_a.x,_a.y},NodeModel.prototype.getSelectedEntities=function(){var entities=_super.prototype.getSelectedEntities.call(this);return this.getSelected()&&Object.values(this._ports.getValue()).forEach((function(port){var links=Object.values(port.getLinks());entities=entities.concat(links.map((function(link){return link.getPointForPort(port)})))})),this.log("selectedEntities",entities),entities},NodeModel.prototype.coordsChanges=function(){return this.coords$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.a)(this.onEntityDestroy()))},NodeModel.prototype.selectCoords=function(){return this.coords$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.a)(this.onEntityDestroy()),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.a)())},NodeModel.prototype.selectX=function(){return this.selectCoords().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.a)((function(c){return c.x})),this.withLog("selectX"),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.a)())},NodeModel.prototype.selectY=function(){return this.selectCoords().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.a)((function(c){return c.y})),this.withLog("selectY"),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.a)())},NodeModel.prototype.addPort=function(port){var _a;return port.setParent(this),this._ports.next(tslib__WEBPACK_IMPORTED_MODULE_0__.a({},this._ports.value,((_a={})[port.id]=port,_a))),port},NodeModel.prototype.getPort=function(id){return this._ports.value[id]},NodeModel.prototype.selectPorts=function(selector){return this.ports$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.a)(this.onEntityDestroy()),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.a)(),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.a)((function(ports){return Object(_utils_tool_kit_util__WEBPACK_IMPORTED_MODULE_6__.e)(ports)})),this.withLog("selectPorts"))},NodeModel.prototype.getPorts=function(ids){return this._ports.getValue()},NodeModel.prototype.setDimensions=function(_a){var width=_a.width,height=_a.height;this._dimensions.next({width:width,height:height})},NodeModel.prototype.getDimensions=function(){return this._dimensions.getValue()},NodeModel.prototype.dimensionChanges=function(){return this.dimensions$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.a)(this.onEntityDestroy()),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.a)(),this.withLog("DimensionChanges"))},NodeModel.prototype.getHeight=function(){return this._dimensions.getValue().height},NodeModel.prototype.getWidth=function(){return this._dimensions.getValue().width},NodeModel.prototype.selectWidth=function(){return this.dimensions$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.a)(this.onEntityDestroy()),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.a)((function(d){return d.width})),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.a)(),this.withLog("selectWidth"))},NodeModel.prototype.selectHeight=function(){return this.dimensions$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.a)(this.onEntityDestroy()),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.a)((function(d){return d.width})),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.a)(),this.withLog("selectHeight"))},NodeModel.prototype.setExtras=function(extras){this._extras.next(extras)},NodeModel.prototype.getExtras=function(){return this._extras.getValue()},NodeModel.prototype.selectExtras=function(selector){return this.extras$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.a)(this.onEntityDestroy()),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.a)())},NodeModel}(_base_model__WEBPACK_IMPORTED_MODULE_2__.a)},913:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_angular__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(124),projects_playground_src_app_app_component__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(550),projects_playground_src_app_components_markdown_wrapper_markdown_wrapper_component__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(548),ngx_diagrams__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(32),ngx_markdown__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(551),_README_md__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(549);Object(_storybook_angular__WEBPACK_IMPORTED_MODULE_0__.storiesOf)("Docs",module).addDecorator(Object(_storybook_angular__WEBPACK_IMPORTED_MODULE_0__.moduleMetadata)({imports:[ngx_markdown__WEBPACK_IMPORTED_MODULE_4__.a.forRoot()]})).add("welcome",(function(){return{component:projects_playground_src_app_components_markdown_wrapper_markdown_wrapper_component__WEBPACK_IMPORTED_MODULE_2__.a,props:{rawMarkdown:_README_md__WEBPACK_IMPORTED_MODULE_5__.a}}})),Object(_storybook_angular__WEBPACK_IMPORTED_MODULE_0__.storiesOf)("Examples",module).addDecorator(Object(_storybook_angular__WEBPACK_IMPORTED_MODULE_0__.moduleMetadata)({imports:[ngx_diagrams__WEBPACK_IMPORTED_MODULE_3__.NgxDiagramsModule]})).add("simple",(function(){return{component:projects_playground_src_app_app_component__WEBPACK_IMPORTED_MODULE_1__.a}}))}.call(this,__webpack_require__(410)(module))}},[[552,1,2]]]);
//# sourceMappingURL=main.17f5a3daa68d875ff199.bundle.js.map